<!doctype html>



  


<html class="theme-next muse use-motion">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />












  
  
  <link href="/vendors/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/vendors/font-awesome/css/font-awesome.min.css?v=4.4.0" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.0.2" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="chanlee, programming, mobile, arduino, ios, android, xamarin, linux" />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.0.2" />






<meta name="description" content="Computing and Programming issues">
<meta property="og:type" content="website">
<meta property="og:title" content="Programming Note">
<meta property="og:url" content="http://chanlee.github.io/page/2/index.html">
<meta property="og:site_name" content="Programming Note">
<meta property="og:description" content="Computing and Programming issues">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Programming Note">
<meta name="twitter:description" content="Computing and Programming issues">



<script type="text/javascript" id="hexo.configuration">
  var NexT = window.NexT || {};
  var CONFIG = {
    scheme: 'Muse',
    sidebar: {"position":"left","display":"post"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: '작성자'
    }
  };
</script>




  <link rel="canonical" href="http://chanlee.github.io/page/2/"/>


  <title> Programming Note </title>
</head>

<body itemscope itemtype="//schema.org/WebPage" lang="ko">

  


<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-46034286-1', 'auto');
  ga('send', 'pageview');
</script>









  
  
    
  

  <div class="container one-collumn sidebar-position-left 
   page-home 
 ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="//schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">Programming Note</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle">chanlee blog</p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
            홈
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
            카테고리
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
            아카이브
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
            태그
          </a>
        </li>
      

      
    </ul>
  

  
</nav>

 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="//schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/08/10/anatomy-of-a-riot-framework-part-6/" itemprop="url">
                  Riot 프레임워크 알아보기. (6/6) Router
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">작성일</span>
            <time itemprop="dateCreated" datetime="2016-08-10T23:18:45+09:00" content="2016-08-10">
              2016-08-10
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/Javascript/" itemprop="url" rel="index">
                    <span itemprop="name">Javascript</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/08/10/anatomy-of-a-riot-framework-part-6/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2016/08/10/anatomy-of-a-riot-framework-part-6/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><img src="http://jennavuong.ghost.io/content/images/2016/03/Screen-Shot-2016-03-13-at-11-24-57-PM.png" alt="frame"></p>
<h2 id="기본"><a href="#기본" class="headerlink" title="기본"></a>기본</h2><p>Riot은 라우팅 기능을 포함하고 있다. 우선 간단한 예제를 살펴보자.<br>먼저 index.html 은 아래와 같다.<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">navigation</span>&gt;</span><span class="tag">&lt;/<span class="name">navigation</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"main"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></div></pre></td></tr></table></figure></p>
<p>다음은 app.js 이다.<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> <span class="string">'navigation.tag'</span></div><div class="line"><span class="keyword">import</span> <span class="string">'home.tag'</span></div><div class="line"><span class="keyword">import</span> <span class="string">'about.tag'</span></div><div class="line"><span class="keyword">import</span> <span class="string">'contact.tag'</span></div><div class="line"></div><div class="line"><span class="comment">// mount navigation tag</span></div><div class="line">riot.mount(<span class="string">'navigation'</span>)</div><div class="line"></div><div class="line">riot.route(<span class="function"><span class="keyword">function</span>(<span class="params">action</span>) </span>&#123;</div><div class="line">    <span class="keyword">switch</span> (action) &#123;</div><div class="line">        <span class="keyword">case</span> <span class="string">'about'</span>:</div><div class="line">            <span class="keyword">return</span> riot.mount(<span class="string">'#main'</span>, <span class="string">'about'</span>)</div><div class="line">            <span class="keyword">break</span></div><div class="line">        <span class="keyword">case</span> <span class="string">'contact'</span>:</div><div class="line">            <span class="keyword">return</span> riot.mount(<span class="string">'#main'</span>, <span class="string">'contact'</span>)</div><div class="line">            <span class="keyword">break</span></div><div class="line">        <span class="keyword">default</span>:</div><div class="line">            riot.mount(<span class="string">'#main'</span>, <span class="string">'home'</span>)</div><div class="line">    &#125;</div><div class="line">&#125;)</div><div class="line"></div><div class="line">rout.route.start(<span class="literal">true</span>)</div></pre></td></tr></table></figure></p>
<blockquote>
<blockquote>
<p>&lt;navigation&gt;&lt;/navigation&gt; 태그는 ‘/home’, ‘/about’, ‘/contact’ 링크를 포함하고 있다고 가정. 각, 링크를 클릭하여 메뉴를 이동하면 브라우저 주소창의 URL이 변경될것이다.</p>
</blockquote>
</blockquote>
<p>기본 URL파서는 path부분을 콜백함수의 인자로 받는다. ‘/home’의 경우 ‘action’은 ‘home’이 된다.<br>만일, route를 아래와 같이 정의하고 ‘/users/1234/edit’ 와 같이 URL을 호출한다면 어떻게 될까?<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">riot.route(<span class="function"><span class="keyword">function</span>(<span class="params">collection, id, action</span>) </span>&#123;</div><div class="line">    ...</div><div class="line">&#125;)</div></pre></td></tr></table></figure></p>
<blockquote>
<blockquote>
<p>collection : users<br>id : 1234<br>action : edit</p>
</blockquote>
</blockquote>
<p>와 같이 인자를 받게 된다. 유의할 점은 riot router는 자동으로 실행되지 않기 때문에 반드시 riot.route.start()를 해줘야만 작동한다.(v2.3이후) 이것은, riot과 함께 다른 router도 사용할 수 있음을 의미한다.</p>
<h2 id="필터"><a href="#필터" class="headerlink" title="필터"></a>필터</h2><p>다른 라우터들 처럼 URL의 앞부분 또는 일부를 고정된 형태로 필터링 할 수 있다. 다음과 같이 정의할 경우 항상 ‘/fruit’에 매칭된다.<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">roit.route(<span class="string">'/fruit'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    ...</div><div class="line">&#125;)</div></pre></td></tr></table></figure></p>
<p>와일드카드(*)또한 지원되므로 다음과 같이 정의할수 있다.<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">riot.route(<span class="string">'/fruit/*'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">name</span>) </span>&#123;</div><div class="line">    ...</div><div class="line">&#125;)</div></pre></td></tr></table></figure></p>
<blockquote>
<blockquote>
<p>/fruit/apple 을 호출할 경우 name = apple 이 된다.</p>
</blockquote>
</blockquote>
<h2 id="활용"><a href="#활용" class="headerlink" title="활용"></a>활용</h2><p>이것은 Riot Router의 기본 URL파서의 행동으로서 URL파서를 커스터마이징 하여 다르게 작동할 수도 있다.<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">riot.route.parser(<span class="function"><span class="keyword">function</span>(<span class="params">path</span>) </span>&#123;</div><div class="line">  <span class="keyword">var</span> raw = path.slice(<span class="number">2</span>).split(<span class="string">'?'</span>),</div><div class="line">      uri = raw[<span class="number">0</span>].split(<span class="string">'/'</span>),</div><div class="line">      qs = raw[<span class="number">1</span>],</div><div class="line">      params = &#123;&#125;</div><div class="line"></div><div class="line">  <span class="keyword">if</span> (qs) &#123;</div><div class="line">    qs.split(<span class="string">'&amp;'</span>).forEach(<span class="function"><span class="keyword">function</span>(<span class="params">v</span>) </span>&#123;</div><div class="line">      <span class="keyword">var</span> c = v.split(<span class="string">'='</span>)</div><div class="line">      params[c[<span class="number">0</span>]] = c[<span class="number">1</span>]</div><div class="line">    &#125;)</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  uri.push(params)</div><div class="line">  <span class="keyword">return</span> uri</div><div class="line">&#125;)</div></pre></td></tr></table></figure></p>
<p>/users/edit?id=1234를 호출할 경우<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">riot.route(<span class="function"><span class="keyword">function</span>(<span class="params">target, action, params</span>) </span>&#123;</div><div class="line">    <span class="comment">// target = users</span></div><div class="line">    <span class="comment">// action = edit</span></div><div class="line">    <span class="comment">// params = &#123; id: '1234' &#125;</span></div><div class="line">&#125;)</div></pre></td></tr></table></figure></p>
<p>추가적인 API 사용법은 <a href="http://riotjs.com/api/route/" target="_blank" rel="external">Route API</a>에서 자세히 볼 수 있다.</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="//schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/08/03/anatomy-of-a-riot-framework-part-5/" itemprop="url">
                  Riot 프레임워크 알아보기. (5/6) Event Emitter(Observable)
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">작성일</span>
            <time itemprop="dateCreated" datetime="2016-08-03T01:16:39+09:00" content="2016-08-03">
              2016-08-03
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/Javascript/" itemprop="url" rel="index">
                    <span itemprop="name">Javascript</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/08/03/anatomy-of-a-riot-framework-part-5/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2016/08/03/anatomy-of-a-riot-framework-part-5/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><img src="https://avatars2.githubusercontent.com/u/2904740?v=3&amp;s=400" alt="emitter"></p>
<h2 id="Observer-Observable"><a href="#Observer-Observable" class="headerlink" title="Observer? Observable!"></a>Observer? Observable!</h2><p>Riot은 기본적으로 커스텀 태그, 이벤트 시스템(Observable), 라우터의 세가지를 제공한다. 이 세가지는 클라이언트 웹어플리케이션을 개발하는데 있어 필수사항이라고 볼 수 있다. 이 요소들은 주로 다음과 같은 목적을 갖고 있다.</p>
<ol>
<li>커스텀 태그는 사용자 인터페이스를 위해</li>
<li>이벤트는 모듈화를 위해</li>
<li>라우터는 URL과 뒤로가기 버튼 기능을 위해</li>
</ol>
<p>앞서 시리즈에서는 커스텀 태그에 대해 알아보았으니, 오늘은 Observable에 대해 설명할 생각이다.</p>
<p>Observable은 이벤트를 주고 받기위한 일반적인 수단으로써, 종속적이거나 강하게 결합된 방식없이 모듈화할 수 있도록 돕는다. 이러한 방식은 큰 프로젝트를 다 작고 단순하게 나누고, 프로젝트의 다른 부분에 영향을 주지않고 모듈을 추가, 삭제, 수정하는 작업이 가능하도록 해준다.</p>
<p>주된 사용패턴으로 어플리케이션의 하나의 코어와 여러개의 확장으로 나누는 것이다. 코어는 어떤 사건이 발생했을때 언제든지 이벤트를 발생시킨다. 사건이라함은 아이템이 추가되거나, 삭제되거나 또는 서버로 부터 무언가를 로딩되는등의 일들을 의미한다.</p>
<p>이러한 환경에서 코어는 각 확장 모듈들에 대해 알지 못한다. 단지, 확장모듈들이 코어를 바라볼 뿐이므로 코어와 다른 확장모듈에 영향을 주지않고 모듈의 추가, 수정, 삭제가 가능하다. 이러한 방식을 “약한 결합(loose coupling)”이라고 부른다.</p>
<p>결국, 확장모듈을 쉽게 개발하기 위해서는 코어와 이벤트를 잘 설계하고 유지해야만 한다.</p>
<h2 id="riot-observable-el"><a href="#riot-observable-el" class="headerlink" title="riot.observable(el)"></a>riot.observable(el)</h2><p>특정 객체가 observable을 지원하도록 만들거나 observable 인스턴스를 만들어 리턴을 하든, Riot에서 Observable 객체를 만들고 사용하는것은 매우 간단하다. <a href="http://riotjs.com/api/observable/" target="_blank" rel="external">Riot 문서의 예제</a>에 있는 샘플 부터 보겠다.<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">Car</span>(<span class="params"></span>) </span>&#123;</div><div class="line"></div><div class="line">  <span class="comment">// Make Car instances observable</span></div><div class="line">  riot.observable(<span class="keyword">this</span>)</div><div class="line"></div><div class="line">  <span class="comment">// listen to 'start' event</span></div><div class="line">  <span class="keyword">this</span>.on(<span class="string">'start'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="comment">// engine started</span></div><div class="line">  &#125;)</div><div class="line"></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// make a new Car instance</span></div><div class="line"><span class="keyword">var</span> car = <span class="keyword">new</span> Car()</div><div class="line"></div><div class="line"><span class="comment">// trigger 'start' event</span></div><div class="line">car.trigger(<span class="string">'start'</span>)</div></pre></td></tr></table></figure></p>
<p>이렇게 car인스턴스를 observable하게 만들수도 있고</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> el = riot.observable(&#123;&#125;)</div><div class="line">el.on(<span class="string">'start'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="comment">// engine started</span></div><div class="line">&#125;)</div><div class="line">el.trigger(<span class="string">'start'</span>)</div></pre></td></tr></table></figure>
<p>이렇게 빈객체를 가지고도 observable 인스턴스를 손쉽게 만들 수 있다. 이 둘의 차이점은 없다. “.on(…)” 이벤트 핸들러가 포함되어 있나, 아니냐의 차이뿐이다. 물론, 경우에 따라 편리한 방법대로 사용하면 된다.</p>
<p>이벤트 핸들러는 이벤트와 함께 원하는 파라미터를 콜백 인자로 받을 수도 있다.<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// listen to 'start' event and expect extra arguments</span></div><div class="line">el.on(<span class="string">'start'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">engine_details, is_rainy_day</span>) </span>&#123;</div><div class="line"></div><div class="line">&#125;)</div><div class="line"></div><div class="line"><span class="comment">// trigger start event with extra parameters</span></div><div class="line">el.trigger(<span class="string">'start'</span>, &#123; <span class="attr">fuel</span>: <span class="number">89</span> &#125;, <span class="literal">true</span>)</div></pre></td></tr></table></figure></p>
<p>engine_details는 { fuel: 89 }가 되고, is_rainy_day는 true이다.</p>
<p>이벤트명은 간단히 “.”표기법을 이용해 네임스페이스를 구분할 수 있다.<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// listen to start and start.honda events</span></div><div class="line">el.on(<span class="string">'start.honda'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">&#125;)</div><div class="line"></div><div class="line"><span class="comment">// trigger all start events (including start.honda)</span></div><div class="line">el.trigger(<span class="string">'start'</span>)</div><div class="line"></div><div class="line"><span class="comment">// trigger only start.honda events</span></div><div class="line">el.trigger(<span class="string">'start.honda'</span>)</div><div class="line"></div><div class="line"><span class="comment">// remove only honda start events</span></div><div class="line">el.off(<span class="string">'start.honda'</span>)</div><div class="line"></div><div class="line"><span class="comment">// remove all start events (including start.honda)</span></div><div class="line">el.off(<span class="string">'start'</span>)</div></pre></td></tr></table></figure></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="//schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/08/01/anatomy-of-a-riot-framework-part-4/" itemprop="url">
                  Riot 프레임워크 알아보기. (4/6) 이벤트 처리와 반복문
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">작성일</span>
            <time itemprop="dateCreated" datetime="2016-08-01T22:10:33+09:00" content="2016-08-01">
              2016-08-01
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/Javascript/" itemprop="url" rel="index">
                    <span itemprop="name">Javascript</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/08/01/anatomy-of-a-riot-framework-part-4/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2016/08/01/anatomy-of-a-riot-framework-part-4/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="이벤트-핸들러"><a href="#이벤트-핸들러" class="headerlink" title="이벤트 핸들러"></a>이벤트 핸들러</h2><p>DOM 이벤트에 대한 처리를 하는 함수를 이벤트 핸들러라고 부른다. Riot에서 일반적인 이벤트 핸들러는 다음과 같은 형식으로 처리한다.<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">login</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">form</span> <span class="attr">onsubmit</span>=<span class="string">&#123;</span> <span class="attr">submit</span> &#125;&gt;</span></div><div class="line"></div><div class="line">  <span class="tag">&lt;/<span class="name">form</span>&gt;</span></div><div class="line"></div><div class="line">  // this method is called when above form is submitted</div><div class="line">  submit(e) &#123;</div><div class="line"></div><div class="line">  &#125;</div><div class="line"><span class="tag">&lt;/<span class="name">login</span>&gt;</span></div></pre></td></tr></table></figure></p>
<p>“on…”으로 시작하는 DOM Event는 모두 동일한 방법으로 적용할 수 있으며 다음과 같이 표현식(expression)을 사용해 이벤트 핸들러를 동적으로 적용할 수도 있다.<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">onsubmit</span>=<span class="string">&#123;</span> <span class="attr">condition</span> ? <span class="attr">method_a</span> <span class="attr">:</span> <span class="attr">method_b</span> &#125;&gt;</span></div></pre></td></tr></table></figure></p>
<p>주의할 점은 Riot의 이벤트 핸들러 “e.preventDefault()”을 호출하여 브라우저의 기본 이벤트 전파를 막는것이다. 이것을 허용하려면, 핸들러 함수의 마지막에 true를 리턴하면 된다.<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">submit(e) &#123;</div><div class="line">    <span class="keyword">return</span> <span class="literal">true</span></div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h2 id="조건문"><a href="#조건문" class="headerlink" title="조건문"></a>조건문</h2><p>조건문은 조건에 따라 특정 DOM노드를 보여주거나 숨기는 기능을 제공한다.<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">if</span>=<span class="string">&#123;</span> <span class="attr">is_premium</span> &#125;&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>This is for premium users only<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure></p>
<ul>
<li>show : 판단값이 true이면 DOM을 보여준다.</li>
<li>hide : 판단값이 true이면 DOM을 못본다.</li>
<li>if : 판단값이 true이면 DOM추가, 아니면 제거.</li>
</ul>
<h2 id="반복문"><a href="#반복문" class="headerlink" title="반복문"></a>반복문</h2><p><img src="http://i2.wp.com/www.startolearn.com/wp-content/uploads/2015/02/392041_249821241755640_1896494109_n.jpg" alt="loop"></p>
<p>반복문은 each 속성과 함께 아래와 같이 사용할 수 있다.<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">todo</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">ul</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">each</span>=<span class="string">&#123;</span> <span class="attr">items</span> &#125; <span class="attr">class</span>=<span class="string">&#123;</span> <span class="attr">completed:</span> <span class="attr">done</span> &#125;&gt;</span></div><div class="line">      <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"checkbox"</span> <span class="attr">checked</span>=<span class="string">&#123;</span> <span class="attr">done</span> &#125;&gt;</span> &#123; title &#125;</div><div class="line">    <span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">  <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></div><div class="line"></div><div class="line">  this.items = [</div><div class="line">    &#123; title: 'First item', done: true &#125;,</div><div class="line">    &#123; title: 'Second item' &#125;,</div><div class="line">    &#123; title: 'Third item' &#125;</div><div class="line">  ]</div><div class="line"><span class="tag">&lt;/<span class="name">todo</span>&gt;</span></div></pre></td></tr></table></figure></p>
<h3 id="컨텍스트-Context"><a href="#컨텍스트-Context" class="headerlink" title="컨텍스트(Context)"></a>컨텍스트(Context)</h3><p>Riot에서 반복문을 사용할때 몇가지 주의할 점이 있다. 가장 중요한것은 각 each 아이템마다 자식 컨텍스트가 생성된다는 것이다.<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">todo</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">each</span>=<span class="string">&#123;</span> <span class="attr">items</span> &#125;&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">h3</span>&gt;</span>&#123; title &#125;<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">onclick</span>=<span class="string">&#123;</span> <span class="attr">parent.remove</span> &#125;&gt;</span>Remove<span class="tag">&lt;/<span class="name">a</span>&gt;</span></div><div class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"></div><div class="line">  this.items = [ &#123; title: 'First' &#125;, &#123; title: 'Second' &#125; ]</div><div class="line"></div><div class="line">  remove(event) &#123;</div><div class="line"></div><div class="line">  &#125;</div><div class="line"><span class="tag">&lt;/<span class="name">todo</span>&gt;</span></div></pre></td></tr></table></figure></p>
<p>each반복문 내부의 this는 새로운 컨텍스트 이다. 즉, items각 요소가 this이자 todo의 자식 컨텍스트로 생성되었으므로, title에는 직접 접근할 수 있지만 todo태그 인스턴스의 함수는 “parent.” 접두사를 붙여서 호출할 수 있다.</p>
<h3 id="반복문내에서의-이벤트-핸들러"><a href="#반복문내에서의-이벤트-핸들러" class="headerlink" title="반복문내에서의 이벤트 핸들러"></a>반복문내에서의 이벤트 핸들러</h3><p>위의 remove함수는 이벤트 객체를 통해 각각의 자식 요소들에 접근할 수 있다. event.item를 통해 items의 개별 요소를 참조할 있다.<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">todo</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">each</span>=<span class="string">&#123;</span> <span class="attr">items</span> &#125;&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">h3</span>&gt;</span>&#123; title &#125;<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">onclick</span>=<span class="string">&#123;</span> <span class="attr">parent.remove</span> &#125;&gt;</span>Remove<span class="tag">&lt;/<span class="name">a</span>&gt;</span></div><div class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"></div><div class="line">  this.items = [ &#123; title: 'First' &#125;, &#123; title: 'Second' &#125; ]</div><div class="line"></div><div class="line">  remove(event) &#123;</div><div class="line"></div><div class="line">    // looped item</div><div class="line">    var item = event.item</div><div class="line"></div><div class="line">    // index on the collection</div><div class="line">    var index = this.items.indexOf(item)</div><div class="line"></div><div class="line">    // remove from collection</div><div class="line">    this.items.splice(index, 1)</div><div class="line">  &#125;</div><div class="line"><span class="tag">&lt;/<span class="name">todo</span>&gt;</span></div></pre></td></tr></table></figure></p>
<p>이벤트핸들러가 실행되고 난 후에는 현재 태그 인스턴스가 this.update()를 이용해 화면을 갱신하게 되고, 이것은 반복문내의 자식 인스턴스들로 모두 갱신한다.</p>
<h2 id="서버사이드-렌더링"><a href="#서버사이드-렌더링" class="headerlink" title="서버사이드 렌더링"></a>서버사이드 렌더링</h2><p>서버측에서 npm으로 riot을 설치한 다음 원하는 태그를 require하고 “riot.render(*.tag)”를 호출하기만 하면 된다.<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> riot = <span class="built_in">require</span>(<span class="string">'riot'</span>)</div><div class="line"><span class="keyword">var</span> timer = <span class="built_in">require</span>(<span class="string">'timer.tag'</span>)</div><div class="line"></div><div class="line"><span class="keyword">var</span> html = riot.render(timer, &#123; <span class="attr">start</span>: <span class="number">42</span> &#125;)</div><div class="line"></div><div class="line"><span class="built_in">console</span>.log(html) <span class="comment">// &lt;timer&gt;&lt;p&gt;Seconds Elapsed: 42&lt;/p&gt;&lt;/timer&gt;</span></div></pre></td></tr></table></figure></p>
<p><a href="https://github.com/avanslaars/riot-server-render" target="_blank" rel="external">이곳</a>에서 express+swig+riot을 사용한 간단한 <a href="https://github.com/avanslaars/riot-server-render" target="_blank" rel="external">Server-Side rendering 예제</a>를 볼 수 있다.</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="//schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/07/30/anatomy-of-a-riot-framework-part-3/" itemprop="url">
                  Riot 프레임워크 알아보기. (3/6) Mixin과 yield
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">작성일</span>
            <time itemprop="dateCreated" datetime="2016-07-30T23:45:16+09:00" content="2016-07-30">
              2016-07-30
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/Javascript/" itemprop="url" rel="index">
                    <span itemprop="name">Javascript</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/07/30/anatomy-of-a-riot-framework-part-3/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2016/07/30/anatomy-of-a-riot-framework-part-3/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><img src="http://thumb7.shutterstock.com/display_pic_with_logo/187564/400530985/stock-photo-mixin-is-a-little-helper-in-coding-pixelated-word-mixin-made-from-cubes-mosaic-pattern-d-400530985.jpg" alt="mixin"></p>
<h2 id="믹스인"><a href="#믹스인" class="headerlink" title="믹스인"></a>믹스인</h2><p>믹스인은 태그들간의 기능을 공유하기 쉽도록 해준다.<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line">var OptsMixin = &#123;</div><div class="line">  init: function() &#123;</div><div class="line">    this.on('updated', function() &#123; console.log('Updated!') &#125;)</div><div class="line">  &#125;,</div><div class="line"></div><div class="line">  getOpts: function() &#123;</div><div class="line">    return this.opts</div><div class="line">  &#125;,</div><div class="line"></div><div class="line">  setOpts: function(opts, update) &#123;</div><div class="line">    this.opts = opts</div><div class="line">    if (!update) this.update()</div><div class="line">    return this</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="tag">&lt;<span class="name">my-tag</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">h1</span>&gt;</span>&#123; opts.title &#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></div><div class="line"></div><div class="line">  this.mixin(OptsMixin)</div><div class="line"><span class="tag">&lt;/<span class="name">my-tag</span>&gt;</span></div></pre></td></tr></table></figure></p>
<p>이 믹스인은 my-tag 태그 인스턴스의 opts객체에 접근할 수 있게 해준다. 단, init 함수는 외부에서 접근할 수 없다. 이 함수는 태그에 믹스인이 로딩되기전에 초기화를 하는 함수이다. 이렇게, 믹스인은 태그를 확장하기도 하고, 반복되는 작업을 위해 믹스인을 공유할수도 해준다.</p>
<h2 id="공유-믹스인-Shared-Mixin"><a href="#공유-믹스인-Shared-Mixin" class="headerlink" title="공유 믹스인 (Shared Mixin)"></a>공유 믹스인 (Shared Mixin)</h2><p>믹스인을 공유하기 위해, riot.mixin API를 제공한다. 공유할 믹스인을 다음과 같이 등록할 수 있다.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">riot.mixin(<span class="string">'mixinName'</span>, mixinObject)</div></pre></td></tr></table></figure>
<p>이 믹스인을 태그에서 사용하려면 공유한 키와 mixin()메소드를 사용하면 된다.<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">my-tag</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>&#123; opts.title &#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></div><div class="line"></div><div class="line">    this.mixin('mixinName')</div><div class="line"><span class="tag">&lt;/<span class="name">my-tag</span>&gt;</span></div></pre></td></tr></table></figure></p>
<h2 id="전역-믹스인-Global-Mixin"><a href="#전역-믹스인-Global-Mixin" class="headerlink" title="전역 믹스인 (Global Mixin)"></a>전역 믹스인 (Global Mixin)</h2><p>말그대로 모든 태그에서 사용할 수 있다.<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">riot.mixin(mixinObject)</div></pre></td></tr></table></figure></p>
<p>공유 믹스인과 달리, 전역의 경우 모든 마운트된 태그에 자동으로 로딩된다. 만일, 전역 믹스인에 키를 부여하고 싶다면 세번째 파라미터를 ‘true’로 주면 된다.<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">riot.mixin(<span class="string">'mixinName'</span>, mixinObject, <span class="literal">true</span>)</div></pre></td></tr></table></figure></p>
<p>전역은 가끔 네임스페이스를 오염시킬 수 있어 좋은 방법이 아니다. 가급적 공유 믹스인을 사용하는 방식으로 구성하는 것이 좋다.</p>
<h2 id="yield"><a href="#yield" class="headerlink" title="yield"></a>yield</h2><p>Riot은 &lt;yield&gt;라는 태그를 내장하고 있다. 이 특별한 태그는 어떤 태그 컴포넌트에든 HTML컨텐츠를 동적으로 적용하고 런타임시에 컴파일된다.<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">alert</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&#123;alert:true,</span> '<span class="attr">alert-warning</span>'<span class="attr">:</span> <span class="attr">opts.warning</span> , '<span class="attr">alert-danger</span>'<span class="attr">:</span> <span class="attr">opts.danger</span>&#125;&gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">yield</span> /&gt;</span></div><div class="line">	<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">alert</span>&gt;</span></div></pre></td></tr></table></figure></p>
<p>이런 오류 메시지 처리시에도 사용될 수 있다.<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">alert</span> <span class="attr">warning</span>=<span class="string">"true"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">strong</span>&gt;</span>Name is required field<span class="tag">&lt;/<span class="name">strong</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">alert</span>&gt;</span></div></pre></td></tr></table></figure></p>
<p>결과는 아래와 같다.<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">alert</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">'alert-warning'</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">p</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">strong</span>&gt;</span>Name is required field<span class="tag">&lt;/<span class="name">strong</span>&gt;</span></div><div class="line">        <span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">alert</span>&gt;</span></div></pre></td></tr></table></figure></p>
<p>이런 Form Validation외에도 yield태그는 다양한 용도로 사용될 수 있다.<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">my-post</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">h1</span>&gt;</span>&#123; opts.title &#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">yield</span>/&gt;</span></div><div class="line">  this.id = 666</div><div class="line"><span class="tag">&lt;/<span class="name">my-post</span>&gt;</span></div></pre></td></tr></table></figure></p>
<p>이렇게 my-post 태그를 생성하고 아래와 같이 호출하면<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">my-post</span> <span class="attr">title</span>=<span class="string">"What a great title"</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">p</span> <span class="attr">id</span>=<span class="string">"my-content-&#123; id &#125;"</span>&gt;</span>My beautiful post is just awesome<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">my-post</span>&gt;</span></div></pre></td></tr></table></figure></p>
<p>결과는 아래와 같다.<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">my-post</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">h1</span>&gt;</span>What a great title<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">p</span> <span class="attr">id</span>=<span class="string">"my-content-666"</span>&gt;</span>My beautiful post is just awesome<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">my-post</span>&gt;</span></div></pre></td></tr></table></figure></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="//schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/07/30/anatomy-of-a-riot-framework-part-2/" itemprop="url">
                  Riot 프레임워크 알아보기. (2/6) Tag
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">작성일</span>
            <time itemprop="dateCreated" datetime="2016-07-30T16:08:08+09:00" content="2016-07-30">
              2016-07-30
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/Javascript/" itemprop="url" rel="index">
                    <span itemprop="name">Javascript</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/07/30/anatomy-of-a-riot-framework-part-2/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2016/07/30/anatomy-of-a-riot-framework-part-2/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><img src="http://www.codingbyte.com/wp-content/uploads/2015/03/html-elements.jpg?1826b3" alt="tag"></p>
<h2 id="태그"><a href="#태그" class="headerlink" title="태그"></a>태그</h2><p>Riot의 Tag는 UI를 만드는 기본 요소이다. 좀 더 확장된 Todo태그를 보자.<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">todo</span>&gt;</span></div><div class="line"></div><div class="line">  <span class="tag">&lt;<span class="name">h3</span>&gt;</span>&#123; opts.title &#125;<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></div><div class="line"></div><div class="line">  <span class="tag">&lt;<span class="name">ul</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">each</span>=<span class="string">&#123;</span> <span class="attr">items</span> &#125;&gt;</span></div><div class="line">      <span class="tag">&lt;<span class="name">label</span> <span class="attr">class</span>=<span class="string">&#123;</span> <span class="attr">completed:</span> <span class="attr">done</span> &#125;&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"checkbox"</span> <span class="attr">checked</span>=<span class="string">&#123;</span> <span class="attr">done</span> &#125; <span class="attr">onclick</span>=<span class="string">&#123;</span> <span class="attr">parent.toggle</span> &#125;&gt;</span> &#123; title &#125;</div><div class="line">      <span class="tag">&lt;/<span class="name">label</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">  <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></div><div class="line"></div><div class="line">  <span class="tag">&lt;<span class="name">form</span> <span class="attr">onsubmit</span>=<span class="string">&#123;</span> <span class="attr">add</span> &#125;&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">name</span>=<span class="string">"input"</span> <span class="attr">onkeyup</span>=<span class="string">&#123;</span> <span class="attr">edit</span> &#125;&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">disabled</span>=<span class="string">&#123;</span> !<span class="attr">text</span> &#125;&gt;</span>Add #&#123; items.length + 1 &#125;<span class="tag">&lt;/<span class="name">button</span>&gt;</span></div><div class="line">  <span class="tag">&lt;/<span class="name">form</span>&gt;</span></div><div class="line"></div><div class="line">  <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></div><div class="line">    this.items = opts.items</div><div class="line"></div><div class="line">    edit(e) &#123;</div><div class="line">      this.text = e.target.value</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    add(e) &#123;</div><div class="line">      if (this.text) &#123;</div><div class="line">        this.items.push(&#123; title: this.text &#125;)</div><div class="line">        this.text = this.input.value = ''</div><div class="line">      &#125;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    toggle(e) &#123;</div><div class="line">      var item = e.item</div><div class="line">      item.done = !item.done</div><div class="line">      return true</div><div class="line">    &#125;</div><div class="line">  <span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"></div><div class="line"><span class="tag">&lt;/<span class="name">todo</span>&gt;</span></div></pre></td></tr></table></figure></p>
<p>이 예제는 <a href="http://riotjs.com/examples/plunker/?app=todo-app" target="_blank" rel="external">이곳</a>에서 실행결과를 확인해 볼 수 있다. Riot태그 컴포넌트는 마크업과 자바스크립트 로직의 조합이다. 심지어, &lt;script&gt;태그를 생략할 수도 있다. Expression내에 따옴표도 생략가능 하다. &lt;foo bar={ baz }&gt;는 &lt;foo bar=”{ baz }”&gt;과 같다.<br><a href="https://developer.mozilla.org/ko/docs/Web/JavaScript/Reference/Functions/%EC%95%A0%EB%A1%9C%EC%9A%B0_%ED%8E%91%EC%85%98" target="_blank" rel="external">ES6 화살표 함수</a>처럼 methodName() { } 는 this.methidName = function() {}.bind(this) 와 같이 실행시에 변환되어 해석된다. 그러므로, this는 항상 현재 태그의 인스턴스를 가리킨다.</p>
<h2 id="마운트"><a href="#마운트" class="headerlink" title="마운트"></a>마운트</h2><p>태그가 생성되면 페이지에서 다음과 같이 마운트를 할 수 있다.<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></div><div class="line"></div><div class="line">  <span class="comment">&lt;!-- place the custom tag anywhere inside the body --&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">todo</span>&gt;</span><span class="tag">&lt;/<span class="name">todo</span>&gt;</span></div><div class="line"></div><div class="line">  <span class="comment">&lt;!-- include riot.js --&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"riot.min.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"></div><div class="line">  <span class="comment">&lt;!-- include the tag --&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"todo.js"</span> <span class="attr">type</span>=<span class="string">"riot/tag"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"></div><div class="line">  <span class="comment">&lt;!-- mount the tag --&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined">riot.mount('todo')</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"></div><div class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></div></pre></td></tr></table></figure></p>
<p>이때, &lt;todo/&gt;와 같이 self-closing태그는 지원되지 않는다.</p>
<p>Riot에서 DOM에 접근하려면 Riot Tag의 Life Cycle에 대해 약간 알아 둘 필요가 있다.<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">example-tag</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">p</span> <span class="attr">id</span>=<span class="string">"findMe"</span>&gt;</span>Do I even Exist?<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line"></div><div class="line">  <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></div><div class="line">  var test1 = document.getElementById('findMe') // (1)</div><div class="line">  console.log('test1', test1)  // Fails</div><div class="line"></div><div class="line">  this.on('update', function()&#123;</div><div class="line">    var test2 = document.getElementById('findMe') (2)</div><div class="line">    console.log('test2', test2) // Succeeds, fires on every update</div><div class="line">  &#125;)</div><div class="line"></div><div class="line">  this.on('mount', function()&#123;</div><div class="line">    var test3 = document.getElementById('findMe') (3)</div><div class="line">    console.log('test3', test3) // Succeeds, fires once (per mount)</div><div class="line">  &#125;)</div><div class="line">  <span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">example-tag</span>&gt;</span></div></pre></td></tr></table></figure></p>
<p>첫번째는 실패이고, 나머지는 성공이다. 2번과 3번의 차이는 태그가 업데이트될때마다 실행되느냐 최초 마운트시에 한번만 실행되느냐의 차이이다. 이 외에도, 몇가지 이벤트들이 더 존재한다.</p>
<ul>
<li>before-mound: 마운트 되기전 한번</li>
<li>mount: 마운트 된후 한번</li>
<li>update: 업데이트 되기전 매번</li>
<li>updated: 업데이트 된후 매번</li>
<li>before-unmount: 삭제되기전 한번</li>
<li>unmount : 삭제 된후 한번</li>
<li>* : 모든 이벤트</li>
</ul>
<p>마운트할때 두번째 인자에 데이터를 넘겨줄 수 있다.</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></div><div class="line">riot.mount('todo', &#123; title: 'My TODO app', items: [ ... ] &#125;)</div><div class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div></pre></td></tr></table></figure>
<p>간단한 자바스크립트 객체에서 Flux Store까지 무엇이든 넘겨줄 수 있다.</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">my-tag</span>&gt;</span></div><div class="line"></div><div class="line">  <span class="comment">&lt;!-- Options in HTML --&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">h3</span>&gt;</span>&#123; opts.title &#125;<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></div><div class="line"></div><div class="line">  // Options in JavaScript</div><div class="line">  var title = opts.title</div><div class="line"></div><div class="line"><span class="tag">&lt;/<span class="name">my-tag</span>&gt;</span></div></pre></td></tr></table></figure>
<p>이렇게 넘겨받은 데이터는 스크립트내부에서나 HTML에서 opts객체로 사용할 수 있다. &lt;script&gt;…&lt;/script&gt; 태그는 생략해도 된다.</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="//schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/07/28/anatomy-of-a-riot-framework-part-1/" itemprop="url">
                  Riot 프레임워크 알아보기. (1/6) 소개
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">작성일</span>
            <time itemprop="dateCreated" datetime="2016-07-28T23:56:22+09:00" content="2016-07-28">
              2016-07-28
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/Javascript/" itemprop="url" rel="index">
                    <span itemprop="name">Javascript</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/07/28/anatomy-of-a-riot-framework-part-1/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2016/07/28/anatomy-of-a-riot-framework-part-1/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><img src="http://cdn.codevisually.com/wp-content/uploads/2013/11/riot.jpg" alt="riot logo"></p>
<h2 id="왜-Riot인가"><a href="#왜-Riot인가" class="headerlink" title="왜 Riot인가?"></a>왜 Riot인가?</h2><p><a href="http://riotjs.com/" target="_blank" rel="external">Riot</a>은 매우 작은 라이브러리이다. 이것이, 왜 Riot인지에 대한 답이다. 작다는것은 습득해야 할것도 적고, 버그도 적다는것으로 해석될 수 있다.</p>
<p>Riot은 사실 React에 많은 영향을 받아, React의 Light 버전 처럼 느껴진다. 또한, Polymer의 장점도 반영되었다. 전반적인 코드는 마치 “Javascript vs. Coffescript”를 보는것 처럼 간결하다.</p>
<p>바로 코디를 통해 Riot에 대해 살펴보겠다.</p>
<h2 id="커스텀-태크"><a href="#커스텀-태크" class="headerlink" title="커스텀 태크"></a>커스텀 태크</h2><p>모든 브라우저에서 Polymer처럼 커스텀 태그를 쓸 수 있다. 하지만, 컴포넌트의 생김새는 React와 유사하다.</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">todo</span>&gt;</span></div><div class="line"></div><div class="line">    <span class="comment">&lt;!-- Markup --&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">h3</span>&gt;</span>&#123; opts.title &#125;<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></div><div class="line"></div><div class="line">    <span class="tag">&lt;<span class="name">ul</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">li</span> <span class="attr">each</span>=<span class="string">&#123;</span> <span class="attr">item</span> <span class="attr">in</span> <span class="attr">items</span> &#125;&gt;</span>&#123; item &#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></div><div class="line"></div><div class="line">    <span class="tag">&lt;<span class="name">form</span> <span class="attr">onsubmit</span>=<span class="string">&#123;</span> <span class="attr">add</span> &#125;&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">input</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">button</span>&gt;</span>Add #&#123; items.length + 1 &#125;<span class="tag">&lt;/<span class="name">button</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">form</span>&gt;</span></div><div class="line"></div><div class="line">    <span class="comment">&lt;!-- Style --&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="undefined"></span></div><div class="line">        h3 &#123;</div><div class="line">            font-size: 14px;</div><div class="line">        &#125;</div><div class="line">    <span class="tag">&lt;/<span class="name">style</span>&gt;</span></div><div class="line"></div><div class="line">    <span class="comment">&lt;!-- Logic --&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></div><div class="line">        <span class="keyword">this</span>.items = []</div><div class="line"></div><div class="line">        add(e) &#123;</div><div class="line">            <span class="keyword">var</span> input = e.target[<span class="number">0</span>]</div><div class="line">            <span class="keyword">this</span>.items.push(input.value)</div><div class="line">            input.value = <span class="string">''</span></div><div class="line">        &#125;</div><div class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"></div><div class="line"><span class="tag">&lt;/<span class="name">todo</span>&gt;</span></div></pre></td></tr></table></figure>
<p>별다른 해석이 없어도 위 컴포넌트의 기능을 이해하는데 별 어려움은 없을 것으로 보인다. 이 태그는 페이지에서 아래와 같이 사용될 수 있다.</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">todo</span>&gt;</span><span class="tag">&lt;/<span class="name">todo</span>&gt;</span></div><div class="line"></div><div class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript">riot.mount(<span class="string">'todo'</span>)</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div></pre></td></tr></table></figure>
<p>React를 보신분들은 비슷한점을 많이 느낄것이다. 하지만, Riot은 훨씬 간결한 문법을 제공하고 es6와도 잘 맞는다. 비슷하지만 뭔가 다른다. <a href="http://riotjs.com/compare/" target="_blank" rel="external">riotjs 홈페이지의 React와의 비교</a> 페이지에 따르면 이것은 겉모습뿐만이 아니다.</p>
<p>Riot은 DOM파싱시에 모든 DOM Node의 Expression을 배열로 참조하고 있다가 변화가 생기는 노드에 대해서만 업데이트를 한다. 그런데, React와 달리 Riot은 HTML구조는 고정된다. 즉, div가 label로 변경될 수 없다. Riot은 단지, 참조하고 있는 Expression만 업데이트 하고, 그 하위 노드에 대한 복잡한 교체는 하지 않음으로써 DOM업데이트를 매우 빠르게 처리할 수 있다.</p>
<h1 id="결론"><a href="#결론" class="headerlink" title="결론"></a>결론</h1><p>Riot은 크게 Custom Tag, Event Observer, Router의 세가지를 기본적인 구성요소로 가지고 있다. 그리고, minimal한 기능을 제공함으로써 혼란을 줄이고 빠르게 개발에 집중할 수 있도록 한다.</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="//schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/05/05/an-overview-of-app-engine/" itemprop="url">
                  마이크로 서비스 아키텍처의 관점에서본 구글 앱엔진
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">작성일</span>
            <time itemprop="dateCreated" datetime="2016-05-05T21:39:42+09:00" content="2016-05-05">
              2016-05-05
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/Cloud/" itemprop="url" rel="index">
                    <span itemprop="name">Cloud</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/05/05/an-overview-of-app-engine/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2016/05/05/an-overview-of-app-engine/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<blockquote>
<p>Google의 <a href="https://cloud.google.com/appengine/docs/go/an-overview-of-app-engine" target="_blank" rel="external">“An Overview of App Engine”</a> 에서 일부를 정리했음.</p>
</blockquote>
</blockquote>
<h3 id="서비스-앱엔진을-구성하는-빌딩-블록"><a href="#서비스-앱엔진을-구성하는-빌딩-블록" class="headerlink" title="서비스: 앱엔진을 구성하는 빌딩 블록"></a>서비스: 앱엔진을 구성하는 빌딩 블록</h3><p>최상위 레벨의 관점에서 봤을때, 앱엔진 어플리케이션은 하나 또는 그 이상의 서비스로 이루어져 있다. 각 서비스들은 다른 런타임상에서 실행되거나 성능에 관한 설정을 달리 할 수 있다. 서비스는 개발자들이 커다란 어플리케이션을 논리적인 컴포넌트 단위로 쪼갤수 있게 해준다. 이것들은 서로 Memcache와 같은 앱엔진의 기능들을 공유하고, 상호 안전하게 커뮤니케이션할 수 있다.<br>결국 서비스는 마이크로서비스와 같은 형태를 취하며, 다수의 서비스들을 이용해 어플리케이션을 구성할 수 있다.<br>하나의 어플리케이션은 다음과 같은 다양한 고객의 요청사항을 각기 다른 서비스를 통해 처리할 수 있다.</p>
<ul>
<li>모바일 장치로 부터의 API 요청.</li>
<li>내부적인 작업. (관리자 기능)</li>
<li>백엔드 처리. (지불에 관련된 파이프라인 또는 데이터 분석)</li>
</ul>
<h3 id="버전과-인스턴스"><a href="#버전과-인스턴스" class="headerlink" title="버전과 인스턴스"></a>버전과 인스턴스</h3><p>각 서비는 소스코드와 설정파일로 이루어져 있다. 서비스에는 항상 버전이 따른다. 당신이 서비스를 배포한다는 것은 특정 버전의 서비스를 배포한다는 것을 의미한다. 각, 서비스가 버전을 가짐으로써 구글 클라우드 플랫폼 콘솔을 통해 언제든지 클릭한번으로 롤백하거나, 점진적으로 새로운 버전의 서비스로 트래픽을 증가시킬 수 도 있다.<br>운영중인 서비스의 특정 버전은 하나 또는 그 이상의 인스턴스를 가진다. 앱엔진은 실행중인 인스턴스를 앱의 성능과 부하량에 따라 자동으로 늘리거나 줄이는 기능을 제공해 쉬고있는 인스턴스(idle)을 최소화 하여 비용을 절감하도록 도와준다.<br>아래 다이어그램은 실행중인 앱엔진 어플리케이션의 계층도를 보여준다.<br><img src="https://cloud.google.com/appengine/docs/images/modules_hierarchy.png" alt="app engine hierarchy" title="App Engine Hierarchy"></p>
<h3 id="서비스간의-통신"><a href="#서비스간의-통신" class="headerlink" title="서비스간의 통신"></a>서비스간의 통신</h3><p>모든 서비스와, 버전, 인스턴스는 “v1.my-service.my-app.appspot.com” 과 같이 고유의 URI를 가지고 있다. 사용자의 요청은 <a href="https://cloud.google.com/appengine/docs/go/how-requests-are-routed" target="_blank" rel="external">URL 어드레싱 규칙</a>에 의해 특정 서비스/버전의 인스턴스로 라우팅된다.<br><a href="https://cloud.google.com/appengine/docs/go/urlfetch" target="_blank" rel="external">URL Fetch API</a>를 이용해 서비스간에 또는 외부의 엔드포인트로 요청을 전달할 수 있다.<br>모든 어플리케이션 서비스는 <a href="https://cloud.google.com/appengine/docs/go/datastore/" target="_blank" rel="external">데이터스토어</a>와 <a href="https://cloud.google.com/appengine/docs/go/memcache/" target="_blank" rel="external">Memcache</a>서비스의 상태를 공유한다. 또한, 서비스은 <a href="https://cloud.google.com/appengine/docs/go/taskqueue/" target="_blank" rel="external">Task Queue</a>를 이용해 작업을 할당하고 협업한다. 이러한, 공유 서비스에 접근하기 위해서는 상응하는 앱엔진 API를 사용해야 한다.</p>
<h2 id="제한"><a href="#제한" class="headerlink" title="제한"></a>제한</h2><p>서비스의 최대수는 앱의 가격정책에 따라 다르다.</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="//schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/05/05/golang-binding-package/" itemprop="url">
                  Go 패키지 시리즈 2 바인딩(mholt/binding) 사용하기
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">작성일</span>
            <time itemprop="dateCreated" datetime="2016-05-05T21:25:27+09:00" content="2016-05-05">
              2016-05-05
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/GoLang/" itemprop="url" rel="index">
                    <span itemprop="name">GoLang</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/05/05/golang-binding-package/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2016/05/05/golang-binding-package/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><img src="http://networkstatic.net/wp-content/uploads/2015/01/gopher.jpg" alt="net"></p>
<h3 id="소개"><a href="#소개" class="headerlink" title="소개"></a>소개</h3><p>Go의 net/http 패키지를 위한 데이터 바인딩 유틸리티로서 http.Request를 Go 구조체로 바인딩 한다.</p>
<h3 id="설치"><a href="#설치" class="headerlink" title="설치"></a>설치</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">go get github.com/mholt/binding</div></pre></td></tr></table></figure>
<h3 id="사용법"><a href="#사용법" class="headerlink" title="사용법"></a>사용법</h3><figure class="highlight go"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">myStruct := <span class="built_in">new</span>(MyStruct)</div><div class="line">errs := binding.Bind(req, myStruct)</div><div class="line"><span class="keyword">if</span> errs.Handle(response) &#123;</div><div class="line">    <span class="keyword">return</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>이렇게 바인딩하기 위해서는 구조체 MyStruct를 binding.FieldMap 인터페이스로 만들어야 한다. 이 과정은 간단히 func (s *MyStruct) FieldMap() binding.FieldMap 메소드를 구현하기만 하면 된다.<br><figure class="highlight go"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="params">(s *MyStruct)</span> <span class="title">FieldMap</span><span class="params">()</span> <span class="title">binding</span>.<span class="title">FieldMap</span></span> &#123;</div><div class="line">    <span class="keyword">return</span> binding.FieldMap&#123;</div><div class="line">        &amp;s.Name: <span class="string">"name"</span>, <span class="comment">// 구조체 필드: 폼이름</span></div><div class="line">        &amp;s.Email: <span class="string">"email"</span>,</div><div class="line">        &amp;s.Message: binding.Field&#123;</div><div class="line">        	Form: <span class="string">"message"</span>,</div><div class="line">        	Required: <span class="literal">true</span>, <span class="comment">// validation</span></div><div class="line">         &#125;,</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h3 id="More"><a href="#More" class="headerlink" title="More"></a>More</h3><p>(<a href="http://mholt.github.io/binding/)[http://mholt.github.io/binding/" target="_blank" rel="external">http://mholt.github.io/binding/)[http://mholt.github.io/binding/</a>]</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="//schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/04/21/golang-template-package/" itemprop="url">
                  Go 패키지 시리즈 1 템플릿 사용하기
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">작성일</span>
            <time itemprop="dateCreated" datetime="2016-04-21T01:45:35+09:00" content="2016-04-21">
              2016-04-21
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/GoLang/" itemprop="url" rel="index">
                    <span itemprop="name">GoLang</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/04/21/golang-template-package/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2016/04/21/golang-template-package/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>한동안 일에 치어서 블로깅에 소흘했는데 그 말인즉 공부를 안했다는 말인것 같다. 최근에 <a href="https://golang.org/" target="_blank" rel="external">Go</a>를 보고있는데 재미있어서 빠져드는 중이다. 요즘 트렌드인지 동시성(concurrency)에 상당히 강점을 가지면서 문법이 직관적이라 적응기간도 그리 길지 않은것 같다.</p>
<p>어제는 앱엔진에서 제공하는 도큐먼트를 보고 간단히 <a href="https://cloud.google.com/appengine/docs/go/gettingstarted/introduction" target="_blank" rel="external">guestbook</a>을 따라해 봤는데 템플릿에 대한 설명이 부족하길래 간만에 번역을 해보았다. 원문을 그대로 번역하진 않고 원문과 공식 Go문서를 번갈아 참고하며 정리했다.</p>
<p>글 내용중 좀 더 자세한 함수의 사용법에 대해서는 참고자료의 링크를 참고하도록 하자.</p>
<p><img src="http://i.imgur.com/lb8cQ3g.jpg?1" alt="test"></p>
<h2 id="템플릿이란"><a href="#템플릿이란" class="headerlink" title="템플릿이란?"></a>템플릿이란?</h2><p>대부분의 서버사이드 언어들은 정적인 페이지에 스크립팅을 지원하기 위한 언어들을 제공한다. JSP나 PHP 스크립팅 같은 것이 그런 예이다. Go에서는 이와 유사한 스크립팅 언어로 <a href="http://golang.org/pkg/text/template" target="_blank" rel="external">template</a> 패키지를 제공한다.</p>
<p>이 패키지는 다른 스크립트가 그러하든 정적인 텍스트에 리스트와 같은 오브젝트들을 결합하여 동적인 컨텐츠를 생산해낸다.</p>
<p>HTML을 만들어 내기 위해서는 <a href="https://golang.org/pkg/html/template/" target="_blank" rel="external">html/template</a> 라는 패키지를 사용한다. 이 패키지는 <a href="http://golang.org/pkg/text/template" target="_blank" rel="external">text/template</a> 패키지와 유사한 기능을 제공하며, 추가로 브라우저에서 보안상의 문제를 해결하고 이스케이프 문자와 같은것들을 안전하게 변환해 주는 기능을 포함하고 있다.</p>
<p>템플릿은 정적인 텍스트와 내장된 커맨드들로 구성된다. 커맨드는 JSP나 PHP와 유사하게 &#123;&#123; … &#125;&#125; 형식의 구분자로 표기된다.</p>
<p>템플릿에 Go객체가 적용되면, 당연히 템플릿내에서 이 객체의 필드들이 삽입될 수 있다. 템플릿에 적용된 Go객체는 “.”으로 표현된다. 즉, 이 객체가 문자열 이라면 &#123;&#123;.&#125;&#125; 으로 템플릿에 표시할 수 있다. 기본적으로 문자열 표시에는 fmt 패키지를 사용한다.</p>
<p>다음과 같은 구조체 객체가 있다<br><figure class="highlight go"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">type</span> Student <span class="keyword">struct</span> &#123;</div><div class="line">    Name <span class="keyword">string</span></div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>이 경우 이름을 표시하려면 &#123;&#123;.Name&#125;&#125; 과 같이 표현할 수 있다.</p>
<h2 id="정의-define"><a href="#정의-define" class="headerlink" title="정의(define)"></a>정의(define)</h2><p>결국, 템플릿은 변하지 않는 정적인 텍스트에 필요한 경우 특정 부분을 치환하기 위함이 목적이다. 이렇게 변하지 않은 부분을 정의할때 define문을 사용할 수 있다. define문은 “define”과 “end”사이에 템플릿을 선언하여 사용하면 된다.<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">`&#123;&#123;define “T1”&#125;&#125;ONE&#123;&#123;end&#125;&#125;</div><div class="line">&#123;&#123;define “T2”&#125;&#125;TWO&#123;&#123;end&#125;</div><div class="line">&#123;&#123;define “T3”&#125;&#125;&#123;&#123;template “T1”&#125;&#125; &#123;&#123;template “T2”&#125;&#125;&#123;&#123;end&#125;&#125;</div><div class="line">&#123;&#123;template “T3”&#125;&#125;`</div></pre></td></tr></table></figure></p>
<p>이 예제에서 T1, T2 두개의 템플릿을 정의하고 T3는 이 두 템플릿을 사용하여 정의 하였다. 그리고, T3를 출력하여 “ONE TWO” 라는 결과를 출력하게 된다.</p>
<h2 id="병합-merge"><a href="#병합-merge" class="headerlink" title="병합(merge)"></a>병합(merge)</h2><p>template 패키지내의 Parse, ParseFile, Execute와 같은 메소드를 사용해서 템플릿을 로드하고, 그 후에 객체와 병합을 시도한다. 결국, 컨텐츠는 정의된 타입과 객체의 필드들을 이용하여 만들어 진다. 구조체 객체내 선언된 필드가 외부에 노출되기 위해서는 속성명은 대문자로 시작해야 한다.</p>
<h3 id="예제"><a href="#예제" class="headerlink" title="예제"></a>예제</h3><figure class="highlight go"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">package</span> main</div><div class="line"></div><div class="line"><span class="keyword">import</span> (</div><div class="line">        <span class="string">"os"</span></div><div class="line">        <span class="string">"text/template"</span></div><div class="line">)</div><div class="line"></div><div class="line"><span class="keyword">type</span> Student <span class="keyword">struct</span> &#123;</div><div class="line">        <span class="comment">//exported field since it begins</span></div><div class="line">        <span class="comment">//with a capital letter</span></div><div class="line">        Name <span class="keyword">string</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</div><div class="line">        <span class="comment">//define an instance</span></div><div class="line">        s := Student&#123;<span class="string">"Satish"</span>&#125;</div><div class="line"></div><div class="line">        <span class="comment">//create a new template with some name</span></div><div class="line">        tmpl := template.New(<span class="string">"test"</span>)</div><div class="line"></div><div class="line">        <span class="comment">//parse some content and generate a template</span></div><div class="line">        tmpl, err := tmpl.Parse(<span class="string">"Hello &#123;&#123;.Name&#125;&#125;!"</span>)</div><div class="line"></div><div class="line">        <span class="comment">//A common use of panic is to abort if a function</span></div><div class="line">        <span class="comment">//returns an error value that we don't know how to</span></div><div class="line">        <span class="comment">//(or want to) handle.</span></div><div class="line">        <span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</div><div class="line">                <span class="built_in">panic</span>(err)</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        <span class="comment">//merge template 'tmpl' with content of 's'</span></div><div class="line">        err1 := tmpl.Execute(os.Stdout, s)</div><div class="line"></div><div class="line">        <span class="keyword">if</span> err1 != <span class="literal">nil</span> &#123;</div><div class="line">                <span class="built_in">panic</span>(err1)</div><div class="line">        &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="소스-설명"><a href="#소스-설명" class="headerlink" title="소스 설명"></a>소스 설명</h2><ul>
<li>이름(test)과 함께 새로운 템플릿 할당</li>
<li>Parse는 문자열을 template객체로 변환</li>
<li>필드값을 출력값에 포함시키기 위해서는 필드값을 중괄호로 둘러싸야 합니다. 예제에서, &#123;&#123;.Name&#125;&#125;은 “Student” 인스턴스인 “s”의 “Name”필드를 가르킵니다.</li>
<li>panic은 내장된 함수로서 현재 흐름을 중단시키고 <a href="https://gobyexample.com/panic" target="_blank" rel="external">패니킹</a> 단계를 수행합니다. Panic은 panic함수를 직접 호출하여 시작될수 있다. 또한, 런타임 오류들 - 배열 인덱스를 잘못 탐색한 경우와 같은 - 에 의해서도 시작될 수 있다.</li>
<li><a href="https://golang.org/pkg/os/" target="_blank" rel="external">os.Stdout</a> 은 표준 출력을 가르키는 변수로 미리 정의되어 있다. os.Stdout은 <a href="https://golang.org/pkg/io/#Writer" target="_blank" rel="external">io.Writer</a>를 구현한다.</li>
<li>Execute는 파싱된 템플릿에 특정 데이터 객체를 병합하여 결과를 표준출력(os.Stdout) 으로 출력한다.</li>
<li>error는 interface타입으로 오류 조건에 따라 값이 적용되며, nil일 경우 오류가 없음을 의미한다. Go 코드는 error값을 이용해 비정상적인 상태를 모니터링 한다.</li>
</ul>
<h2 id="파이프라인-“-”"><a href="#파이프라인-“-”" class="headerlink" title="파이프라인 (“|”)"></a>파이프라인 (“|”)</h2><p>파이프라인은 “|”문자로 구분되는 명령어의 나열이다. 각 커맨드의 결과가 다음 커맨드의 마지막 인자로 넘어가 최종 커맨드에 의해 출력되는 값이 파이프라인의 값이 된다.<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&#123;&#123;"put" | printf "%s%s" "out" | printf "%q"&#125;&#125;</div></pre></td></tr></table></figure></p>
<h2 id="range-커맨드"><a href="#range-커맨드" class="headerlink" title="range 커맨드"></a>range 커맨드</h2><p>다음 코드를 person.go 라는 파일로 저장하고 실행해 보자.<br><figure class="highlight go"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">package</span> main</div><div class="line"></div><div class="line"><span class="keyword">import</span> (</div><div class="line">        <span class="string">"os"</span></div><div class="line">        <span class="string">"text/template"</span></div><div class="line">)</div><div class="line"></div><div class="line"><span class="keyword">type</span> Person <span class="keyword">struct</span> &#123;</div><div class="line">        Name   <span class="keyword">string</span></div><div class="line">        Emails []<span class="keyword">string</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">const</span> tmpl = <span class="string">`The name is &#123;&#123;.Name&#125;&#125;.</span></div><div class="line">&#123;&#123;range .Emails&#125;&#125;</div><div class="line">    His email id is &#123;&#123;.&#125;&#125;</div><div class="line">&#123;&#123;end&#125;&#125;</div><div class="line">`</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</div><div class="line">        person := Person&#123;</div><div class="line">                Name:   <span class="string">"Satish"</span>,</div><div class="line">                Emails: []<span class="keyword">string</span>&#123;<span class="string">"satish@rubylearning.org"</span>, <span class="string">"satishtalim@gmail.com"</span>&#125;,</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        t := template.New(<span class="string">"Person template"</span>)</div><div class="line"></div><div class="line">        t, err := t.Parse(tmpl)</div><div class="line"></div><div class="line">        <span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</div><div class="line">                <span class="built_in">panic</span>(err)</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        err = t.Execute(os.Stdout, person)</div><div class="line"></div><div class="line">        <span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</div><div class="line">                <span class="built_in">panic</span>(err)</div><div class="line">        &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>range 커맨드는 person.Emails 슬라이스를 순환하면서 값을 출력한다.<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">The name is Satish.</div><div class="line"></div><div class="line">    His email id is satish@rubylearning.org</div><div class="line"></div><div class="line">    His email id is satishtalim@gmail.com</div></pre></td></tr></table></figure></p>
<h2 id="변수"><a href="#변수" class="headerlink" title="변수"></a>변수</h2><p>template 패키지는 변수를 정의하고 사용할 수 있다. 위의 예제에서 이메일 주소앞에 이름을 함께 출력하려면 다음과 같이 코드를 수정할 수 있다.<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">&#123;&#123;$name := .Name&#125;&#125;</div><div class="line">&#123;&#123;range .Emails&#125;&#125;</div><div class="line">    Name is &#123;&#123;$name&#125;&#125;, email is &#123;&#123;.&#125;&#125;</div><div class="line">&#123;&#123;end&#125;&#125;</div></pre></td></tr></table></figure></p>
<p>range 스코프에서 .은 person.Email 이므로 person.Name을 사용하기 위해서는 해당 스코프 밖에서 미리 변수를 정의하고, range 스코프에서 사용하면 된다. 변수는 “$”를 접두사로 사용하여 $name := .Name 과 같이 정의하고 range 스코프 안에서 접근해 사용하면 된다.</p>
<h2 id="html-template"><a href="#html-template" class="headerlink" title="html/template"></a>html/template</h2><p><a href="http://golang.org/pkg/html/template/" target="_blank" rel="external">html/template</a>는 HTML결과를 출력하기 위한 템플릿 패키지이다. <a href="http://golang.org/pkg/text/template/" target="_blank" rel="external">text/template</a>과 사용법이 비슷하며, 코드 인젝션(code injection)으로부터 안전한 출력을 위한 함수들을 추가로 지원한다.</p>
<h2 id="결론"><a href="#결론" class="headerlink" title="결론"></a>결론</h2><p>Go의 template 패키지는 아쉽게도 Regular Expression과 같은 강력한 기능을 제공하지는 않는다. 하지만, 사용법이 간단하고 일반적인 텍스트 치환은 큰 불편없이 사용할 수 있으니 사용에 무리는 없어 보인다.</p>
<h2 id="참고자료"><a href="#참고자료" class="headerlink" title="참고자료"></a>참고자료</h2><p><a href="https://blog.joshsoftware.com/2014/03/14/learn-to-build-and-deploy-simple-go-web-apps-part-three/" target="_blank" rel="external">Learn to build and deploy simple Go Web Apps, Part Three</a><br><a href="http://golang.org/pkg/text/template" target="_blank" rel="external">text/template</a><br><a href="http://golang.org/pkg/html/template/" target="_blank" rel="external">html/template</a></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="//schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2015/06/14/Introduce-Swift-Optional/" itemprop="url">
                  스위프트 옵셔널 이해하기
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">작성일</span>
            <time itemprop="dateCreated" datetime="2015-06-14T01:46:29+09:00" content="2015-06-14">
              2015-06-14
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/IOS/" itemprop="url" rel="index">
                    <span itemprop="name">IOS</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2015/06/14/Introduce-Swift-Optional/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2015/06/14/Introduce-Swift-Optional/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="옵셔널-개요"><a href="#옵셔널-개요" class="headerlink" title="옵셔널 개요"></a>옵셔널 개요</h3><p>Swift에서 변수를 선언할때는 기본적으로 옵셔널이 아닌(non-optional)값을 지정해야 한다. 다시말해, 변수에는 반드시 nil 이 아닌(non-nil) 값을 할당 해야만 한다. 만일, 옵셔널이 아닌 변수에 nil 을 설정하려 하면 컴파일러는 nil값을 할당 할 수 없다고 오류를 발생시킬 것이다.</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> message: <span class="type">String</span> = <span class="string">"Swift is awesome!"</span> <span class="comment">// OK</span></div><div class="line">message = <span class="literal">nil</span> <span class="comment">// compile-time error</span></div></pre></td></tr></table></figure>
<p>클래스에서 속성을 선언할 때에도 마챦가지 이다.</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Messenger</span> </span>&#123;</div><div class="line">    <span class="keyword">var</span> message1: <span class="type">String</span> = <span class="string">"Swift is awesome!"</span> <span class="comment">// OK</span></div><div class="line">    <span class="keyword">var</span> message2: <span class="type">String</span> <span class="comment">// compile-time error</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>하지만, Objective-C 에서는 아래와 같이 nil을 설정해도 에러가 발생하지 않는다.</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="type">NSString</span> *message = @<span class="string">"Objective-C will never die!"</span>;</div><div class="line">message = <span class="literal">nil</span>;</div></pre></td></tr></table></figure>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Messenger</span> </span>&#123;</div><div class="line">    <span class="type">NSString</span> *message1 = @<span class="string">"Objective will never die!"</span>;</div><div class="line">    <span class="type">NSString</span> *message2;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>하지만, 이것은 스위프트에서 초기값 없이 속성 또는 변수를 선언할수 없다는 것을 의미하지 않는다. 스위프트는 옵셔널 타입을 사용해 값의 부재를 알릴 수 있다. 즉,  “?” 오퍼레이터를 타입선언 뒤에 추가하면 된다. 아래 예를 참고하라.</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Messenger</span> </span>&#123;</div><div class="line">    <span class="keyword">var</span> message1: <span class="type">String</span> = <span class="string">"Swift is awesome!"</span> <span class="comment">// OK</span></div><div class="line">    <span class="keyword">var</span> message2: <span class="type">String</span>? <span class="comment">// OK</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="왜-옵셔널-Optionals-인가"><a href="#왜-옵셔널-Optionals-인가" class="headerlink" title="왜 옵셔널(Optionals) 인가?"></a>왜 옵셔널(Optionals) 인가?</h3><p>스위프트는 애플의 주장대로 타입-세이프한 언어라는것을 보여주는 사례중 하나이다. 앞서본 예제와 같이 옵셔널은 런타임시에 발생할 수 있는 에러들을 컴파일시에 체크할 수 있도록 한다. 옵셔널의 장점을 더 잘 이해할 수 있도록 아래의 Objective-C 메소드를 살펴 보자.</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">- (<span class="type">NSString</span> *)findStockCode:(<span class="type">NSString</span> *)company &#123;</div><div class="line">    <span class="keyword">if</span> ([company isEqualToString:@<span class="string">"Apple"</span>]) &#123;</div><div class="line">        <span class="keyword">return</span> @<span class="string">"AAPL"</span>;</div><div class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> ([company isEqualToString:@<span class="string">"Google"</span>]) &#123;</div><div class="line">        <span class="keyword">return</span> @<span class="string">"GOOG"</span>;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="keyword">return</span> <span class="literal">nil</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>findStockCode 메소드는 Apple과 Google의 주식코드를 리턴하고, 그 외의 경우에는 nil을 리턴한다. 이 메소드는 아래와 같이 호출될 수 있다.</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="type">NSString</span> *stockCode = [<span class="keyword">self</span> findStockCode:@<span class="string">"Facebook"</span>]; <span class="comment">// nil is returned</span></div><div class="line"><span class="type">NSString</span> *text = @<span class="string">"Stock Code - "</span>;</div><div class="line"><span class="type">NSString</span> *message = [text stringByAppendingString:stockCode]; <span class="comment">// runtime error</span></div><div class="line"><span class="type">NSLog</span>(@<span class="string">"%@"</span>, message);</div></pre></td></tr></table></figure>
<p>이 코드는 문제없이 컴파일이 되겠지만 실행했을때는 런타임 오류를 발생하게 된다. 이 코드를 스위프트로 작성하면 아래와 같이 되며, 컴파일시에 오류를 발견할 수 있게 된다.</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">findStockCode</span><span class="params">(company: String)</span></span> -&gt; <span class="type">String</span>? &#123;</div><div class="line">   <span class="keyword">if</span> (company == <span class="string">"Apple"</span>) &#123;</div><div class="line">      <span class="keyword">return</span> <span class="string">"AAPL"</span></div><div class="line">   &#125; <span class="keyword">else</span> <span class="keyword">if</span> (company == <span class="string">"Google"</span>) &#123;</div><div class="line">      <span class="keyword">return</span> <span class="string">"GOOG"</span></div><div class="line">   &#125;</div><div class="line"></div><div class="line">   <span class="keyword">return</span> <span class="literal">nil</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">var</span> stockCode:<span class="type">String</span>? = findStockCode(<span class="string">"Facebook"</span>)</div><div class="line"><span class="keyword">let</span> text = <span class="string">"Stock Code - "</span></div><div class="line"><span class="keyword">let</span> message = text + stockCode  <span class="comment">// compile-time error</span></div><div class="line"><span class="built_in">println</span>(message)</div></pre></td></tr></table></figure>
<p>stockCode는 문자열 또는 nil값일 수 있다. 옵셔널 문자열인 String?은 업랩(Unwrapped)되지 않았으므로, 이것을 수정할 수 있도록 에러를 발생한다. 이렇게 컴파일시에 nil 체크를 수행함으로써 잠재적인 에러를 탐지할 수 있다는것이 옵셔널의 장점이다.</p>
<p><img src="/assets/nullpointer-cartoon.jpg" alt="null pointer exception"></p>
<h3 id="옵셔널-꺼내기-Unwrapping-Optionals"><a href="#옵셔널-꺼내기-Unwrapping-Optionals" class="headerlink" title="옵셔널 꺼내기(Unwrapping Optionals)"></a>옵셔널 꺼내기(Unwrapping Optionals)</h3><p>위의 코드가 컴파일 될 수 있도록 하려면 아래와 같이 수정하면 된다.</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> stockCode:<span class="type">String</span>? = findStockCode(<span class="string">"Facebook"</span>)</div><div class="line"><span class="keyword">let</span> text = <span class="string">"Stock Code - "</span></div><div class="line"><span class="keyword">if</span> stockCode &#123;</div><div class="line">    <span class="keyword">let</span> message = text + stockCode!</div><div class="line">    <span class="built_in">println</span>(message)</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>스위프트에서 느낌표는 강제 언래핑(Unwrapping)을 할때 사용된다. if문으로 stockCode에 값이 있다는것을 확인했으므로, 위와 같이 옵셔널 변수에 !를 붙여 값을 꺼낼 수 있다.</p>
<p>하지만, 아래와 같이 stockCode에 대해 nil-체크를 하지 않고 Unwrapping을 하게되면 런타임 오류를 만나게 될것이다.</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> stockCode:<span class="type">String</span>? = findStockCode(<span class="string">"Facebook"</span>)</div><div class="line"><span class="keyword">let</span> text = <span class="string">"Stock Code - "</span></div><div class="line"><span class="keyword">let</span> message = text + stockCode!  <span class="comment">// runtime error</span></div></pre></td></tr></table></figure>
<h3 id="옵셔널-바인딩"><a href="#옵셔널-바인딩" class="headerlink" title="옵셔널 바인딩"></a>옵셔널 바인딩</h3><p>강제 언래핑(Forced Unwrapping)은 다른 언어에서 null-체크를 하는것과 그리 다르지 않다. 또한, 잠재적으로 런타임 오류를 발생시킬 수 있다. 옵셔널 바인딩은 옵셔널이 값을 가지고 있는지 아닌지를 체크하고, 값이 있을 경우 그것을 꺼내어 임시로 특정 상수(또는 변수)에 값을 보관하는 방법을 말한다.</p>
<p>예제보다 이것을 더 쉽게 설명할 수 없으므로, 바로 앞에 사용했던 코드를 옵셔널 바인딩을 적용하여 변경해 보겠다.</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> stockCode:<span class="type">String</span>? = findStockCode(<span class="string">"Facebook"</span>)</div><div class="line"><span class="keyword">let</span> text = <span class="string">"Stock Code - "</span></div><div class="line"><span class="keyword">if</span> <span class="keyword">let</span> tempStockCode = stockCode &#123;</div><div class="line">    <span class="keyword">let</span> message = text + tempStockCode</div><div class="line">    <span class="built_in">println</span>(message)</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>“if let”(또는 if var 도 사용 가능) 구문은 두가지 의미를 내포하고 있다. 쉽게말해, “만일 stockCode가 값을 가지고 있다면, 이것을 꺼내서 (1)tempStockCode에 값을 대입하고, (2) 조건문 블록을 실행하라” 는 것을 의미 한다. 그렇지 않다면 조건문은 실행되지 않는다.<br>tempStockCode는 새로운 상수이므로 끝에 느낌표(!)를 사용할 필요가 없다.</p>
<p>위 코드는 아래와 같이 좀 더 축약 하여 코딩할 수 있다.</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> text = <span class="string">"Stock Code - "</span></div><div class="line"><span class="keyword">if</span> <span class="keyword">var</span> stockCode = findStockCode(<span class="string">"Apple"</span>) &#123;</div><div class="line">    <span class="keyword">let</span> message = text + stockCode</div><div class="line">    <span class="built_in">println</span>(message)</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>이 코드에서 stockCode 는 옵셔널이 아니란점에 주목하기 바란다.</p>
<h3 id="옵셔널-체이닝"><a href="#옵셔널-체이닝" class="headerlink" title="옵셔널 체이닝"></a>옵셔널 체이닝</h3><p>옵셔널 체이닝을 설명하기 전에 이전의 예제 소스를 아래와 같이 수정하겠다. 우리는 code와 price라는 옵셔널 속성을 가진 Stock 이라는 클래스를 새로 만들고, findStockCode 함수는 문자열 대신 Stock클래스를 리턴 하도록 수정할 것이다.</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Stock</span> </span>&#123;</div><div class="line">    <span class="keyword">var</span> code: <span class="type">String</span>?</div><div class="line">    <span class="keyword">var</span> price: <span class="type">Double</span>?</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">findStockCode</span><span class="params">(company: String)</span></span> -&gt; <span class="type">Stock</span>? &#123;</div><div class="line">    <span class="keyword">if</span> (company == <span class="string">"Apple"</span>) &#123;</div><div class="line">        <span class="keyword">let</span> aapl: <span class="type">Stock</span> = <span class="type">Stock</span>()</div><div class="line">        aapl.code = <span class="string">"AAPL"</span></div><div class="line">        aapl.price = <span class="number">90.32</span></div><div class="line"></div><div class="line">        <span class="keyword">return</span> aapl</div><div class="line"></div><div class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (company == <span class="string">"Google"</span>) &#123;</div><div class="line">        <span class="keyword">let</span> goog: <span class="type">Stock</span> = <span class="type">Stock</span>()</div><div class="line">        goog.code = <span class="string">"GOOG"</span></div><div class="line">        goog.price = <span class="number">556.36</span></div><div class="line"></div><div class="line">        <span class="keyword">return</span> goog</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="keyword">return</span> <span class="literal">nil</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>아래 코드는 주식코드를 찾고, 100주를 사는데 필요한 금액을 출력한다.</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">if</span> <span class="keyword">let</span> stock = findStockCode(<span class="string">"Apple"</span>) &#123;</div><div class="line">    <span class="keyword">if</span> <span class="keyword">let</span> sharePrice = stock.price &#123;</div><div class="line">        <span class="keyword">let</span> totalCost = sharePrice * <span class="number">100</span></div><div class="line">        <span class="built_in">println</span>(totalCost)</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>findStockCode()의 반환값은 옵셔널이므로, 옵셔널 바인등을 사용해 nul-체크를 하고 stock의 price 역시 옵셔널 이므로 다시 한번 if let~ 문을 사용하였다.</p>
<p>위 코드는 에러를 발생시키지 않지만, 중첩된 “if set” 문을 사용하는 대신 옵셔널 체이닝을 사용해 더 간단히 할 수 있다. 옵셔널 체인은 “?.” 오퍼레이터를 사용해 다수의 옵셔널을 체인으로 묶을 수 있다. 아래 코드는 옵셔널 체인을 사용해 수정한 코드이다.</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">if</span> <span class="keyword">let</span> sharePrice = findStockCode(<span class="string">"Apple"</span>)?.price &#123;</div><div class="line">    <span class="keyword">let</span> totalCost = sharePrice * <span class="number">100</span></div><div class="line">    <span class="built_in">println</span>(totalCost)</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>이제 코드가 더욱 간결해 졌다. 옵셔널 체인에 관한 더 다양한 예제는 애플의 <a href="https://developer.apple.com/library/prerelease/ios/documentation/swift/conceptual/swift_programming_language/OptionalChaining.html#//apple_ref/doc/uid/TP40014097-CH21-XID_312" target="_blank" rel="external">스위프트 가이드</a> 문서에서 찾을 수 있다.</p>
<h3 id="스위프트와-오브젝티브-C의-상호-운용성"><a href="#스위프트와-오브젝티브-C의-상호-운용성" class="headerlink" title="스위프트와 오브젝티브-C의 상호 운용성"></a>스위프트와 오브젝티브-C의 상호 운용성</h3><p>스위프트는 Objective-C의 API들과 잘 상호 작용하도록 설계되었다. UIKit이나 다른 프레임워크의 API들과 상호작용이 필요한 부분에서도 쉽게 옵셔널들을 만날 수 있다. 다음 코드는 테이블뷰를 구현할때 마주칠수 있는 옵셔널의 예이다.</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">numberOfSectionsInTableView</span><span class="params">(tableView: UITableView?)</span></span> -&gt; <span class="type">Int</span> &#123;</div><div class="line">     <span class="comment">// Return the number of sections.</span></div><div class="line">     <span class="keyword">return</span> <span class="number">1</span></div><div class="line"> &#125;</div><div class="line"></div><div class="line"> <span class="function"><span class="keyword">func</span> <span class="title">tableView</span><span class="params">(tableView: UITableView?, numberOfRowsInSection section: Int)</span></span> -&gt; <span class="type">Int</span> &#123;</div><div class="line">     <span class="comment">// Return the number of rows in the section.</span></div><div class="line">     <span class="keyword">return</span> recipes.<span class="built_in">count</span></div><div class="line"> &#125;</div><div class="line"></div><div class="line"></div><div class="line"> <span class="function"><span class="keyword">func</span> <span class="title">tableView</span><span class="params">(tableView: UITableView!, cellForRowAtIndexPath indexPath: NSIndexPath!)</span></span> -&gt; <span class="type">UITableViewCell</span>! &#123;</div><div class="line">     <span class="keyword">let</span> cell = tableView.dequeueReusableCellWithIdentifier(<span class="string">"Cell"</span>, forIndexPath: indexPath) <span class="keyword">as</span> <span class="type">UITableViewCell</span></div><div class="line"></div><div class="line">     cell.textLabel.text = recipes[indexPath.row]</div><div class="line"></div><div class="line">     <span class="keyword">return</span> cell</div><div class="line"> &#125;</div></pre></td></tr></table></figure>
<p>ps. 원문중 번역이 생략되거나 축약한 부분도 있습니다.<br>더 자세한 부분은 아래의 원문과 애플의 스위프트 공식 문서를 참고하시기 바랍니다.</p>
<p><a href="http://www.appcoda.com/beginners-guide-optionals-swift/" target="_blank" rel="external">원문 : A Beginner’s Guide to Optionals in Swift</a></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="page-number current">2</span><a class="page-number" href="/page/3/">3</a><a class="extend next" rel="next" href="/page/3/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel  sidebar-panel-active ">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="//schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/assets/chanlee.jpeg"
               alt="chanlee" />
          <p class="site-author-name" itemprop="name">chanlee</p>
          <p class="site-description motion-element" itemprop="description">Computing and Programming issues</p>
        </div>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">25</span>
              <span class="site-state-item-name">포스트</span>
            </a>
          </div>

          
            <div class="site-state-item site-state-categories">
              <a href="/categories">
                <span class="site-state-item-count">6</span>
                <span class="site-state-item-name">카테고리</span>
              </a>
            </div>
          

          
            <div class="site-state-item site-state-tags">
              <a href="/tags">
                <span class="site-state-item-count">18</span>
                <span class="site-state-item-name">태그</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/chanlee" target="_blank" title="Github">
                  
                    <i class="fa fa-fw fa-globe"></i>
                  
                  Github
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://twitter.com/chanlee" target="_blank" title="Twitter">
                  
                    <i class="fa fa-fw fa-twitter"></i>
                  
                  Twitter
                </a>
              </span>
            
          
        </div>

        
        

        
        

      </section>

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2016</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">chanlee</span>
</div>

<div class="powered-by">
  Powered by <a class="theme-link" href="https://hexo.io">Hexo</a>
</div>

<div class="theme-info">
  Theme -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Muse
  </a>
</div>

        

        
      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  



  
  <script type="text/javascript" src="/vendors/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/vendors/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/vendors/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/vendors/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/vendors/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/vendors/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.0.2"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.0.2"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.0.2"></script>



  



  

    <script type="text/javascript">
      var disqus_shortname = 'programmingnoteblog';
      var disqus_identifier = 'page/2/index.html';
      var disqus_title = "";
      var disqus_url = '';

      function run_disqus_script(disqus_script){
        var dsq = document.createElement('script');
        dsq.type = 'text/javascript';
        dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/' + disqus_script;
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
      }

      run_disqus_script('count.js');
      
    </script>
  




  
  

  

  

  

  


</body>
</html>
