<!doctype html>



  


<html class="theme-next muse use-motion">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />












  
  
  <link href="/vendors/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/vendors/font-awesome/css/font-awesome.min.css?v=4.4.0" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.0.2" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="chanlee, programming, mobile, arduino, ios, android, xamarin, linux" />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.0.2" />






<meta name="description" content="Computing and Programming issues">
<meta property="og:type" content="website">
<meta property="og:title" content="Programming Note">
<meta property="og:url" content="http://chanlee.github.io/index.html">
<meta property="og:site_name" content="Programming Note">
<meta property="og:description" content="Computing and Programming issues">
<meta property="og:locale" content="ko">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Programming Note">
<meta name="twitter:description" content="Computing and Programming issues">



<script type="text/javascript" id="hexo.configuration">
  var NexT = window.NexT || {};
  var CONFIG = {
    scheme: 'Muse',
    sidebar: {"position":"left","display":"post"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: '작성자'
    }
  };
</script>




  <link rel="canonical" href="http://chanlee.github.io/"/>


  <title> Programming Note </title>
</head>

<body itemscope itemtype="//schema.org/WebPage" lang="ko">

  


<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-46034286-1', 'auto');
  ga('send', 'pageview');
</script>









  
  
    
  

  <div class="container one-collumn sidebar-position-left 
   page-home 
 ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="//schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">Programming Note</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle">chanlee blog</p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
            홈
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
            카테고리
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
            아카이브
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
            태그
          </a>
        </li>
      

      
    </ul>
  

  
</nav>

 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="//schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/07/22/JUL-2017-Tongyoung/" itemprop="url">
                  JUL-2017 Tongyoung
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">작성일</span>
            <time itemprop="dateCreated" datetime="2017-07-22T20:50:25+09:00" content="2017-07-22">
              2017-07-22
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/Photos/" itemprop="url" rel="index">
                    <span itemprop="name">Photos</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2017/07/22/JUL-2017-Tongyoung/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2017/07/22/JUL-2017-Tongyoung/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><img src="/assets/JUL-2017-Tongyoung/IMG_2627.jpg" alt=""><br><img src="/assets/JUL-2017-Tongyoung/IMG_2633.jpg" alt=""><br><img src="/assets/JUL-2017-Tongyoung/IMG_2639.jpg" alt=""><br><img src="/assets/JUL-2017-Tongyoung/IMG_2641.jpg" alt=""><br><img src="/assets/JUL-2017-Tongyoung/IMG_2642.jpg" alt=""><br><img src="/assets/JUL-2017-Tongyoung/IMG_2647.jpg" alt=""><br><img src="/assets/JUL-2017-Tongyoung/IMG_2652.jpg" alt=""><br><img src="/assets/JUL-2017-Tongyoung/P1014579.jpg" alt=""><br><img src="/assets/JUL-2017-Tongyoung/P1014580.jpg" alt=""><br><img src="/assets/JUL-2017-Tongyoung/P1014589.jpg" alt=""><br><img src="/assets/JUL-2017-Tongyoung/P1014597.jpg" alt=""><br><img src="/assets/JUL-2017-Tongyoung/P1014607.jpg" alt=""><br><img src="/assets/JUL-2017-Tongyoung/P1014611.jpg" alt=""><br><img src="/assets/JUL-2017-Tongyoung/P1014623.jpg" alt=""><br><img src="/assets/JUL-2017-Tongyoung/P1014639.jpg" alt=""><br><img src="/assets/JUL-2017-Tongyoung/P1014640.jpg" alt=""></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="//schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/11/27/xamarin-forms-layout-basic-1/" itemprop="url">
                  Layout 기본 (1) - Grid
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">작성일</span>
            <time itemprop="dateCreated" datetime="2016-11-27T15:18:02+09:00" content="2016-11-27">
              2016-11-27
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/Xamarin/" itemprop="url" rel="index">
                    <span itemprop="name">Xamarin</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/11/27/xamarin-forms-layout-basic-1/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2016/11/27/xamarin-forms-layout-basic-1/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><a href="https://developer.xamarin.com/api/type/Xamarin.Forms.Grid/" target="_blank" rel="external">Grid</a>는 뷰를 행과 열의 관점에서 정렬한다. 행과 열은 비율적 또는 절대적인 크기가 될 수 있다. Grid는 전통적인 테이블형식의 데이터를 다루기 위한것과 혼돈하지 마라. Grid는 순수하게 컨텐츠의 레이아웃을 다루는 목적으로 존재한다.<br><img src="https://developer.xamarin.com/guides/xamarin-forms/user-interface/layouts/grid/Images/Layouts-sml.png" alt="Grid Layout"></p>
<h2 id="목적"><a href="#목적" class="headerlink" title="목적"></a>목적</h2><p>Grid는 뷰를 격자형태로 정렬하는데 사용될 수 있다.</p>
<ul>
<li>계산기 앱의 버튼 정렬</li>
<li>버튼이나 아이콘을 iOS 또는 Android의 홈스크린과 같이 배치</li>
<li>일차원적인 공간에 동일한 크기의 뷰를 나열 (툴바와 같은 형태)</li>
</ul>
<h2 id="사용법"><a href="#사용법" class="headerlink" title="사용법"></a>사용법</h2><p>테이블과 달리, Grid는 행과 열의 크기나 갯수가 컨텐츠에 의해 결정되지 않는다. 대신, Grid는 RowDefinitions와 ColumnDefinitions 컬렉션을 가진다. 이 정의들은 몇개의 행과 열이 놓여질지에 관한 정보를 가지고 있다. 뷰요소는 특정 행과 열의 번호에 기반해 정해진 곳에 추가된다.</p>
<h3 id="행과-열"><a href="#행과-열" class="headerlink" title="행과 열"></a>행과 열</h3><p>RowDefinitions은 Height속성을 갖고, ColumnDefinition은 Width라는 속성을 가진다. 높이와 너비는 다음의 선택값을 가질 수 있다.</p>
<ul>
<li>Auto - 행 또는 열에 컨텐츠의 크기에 따라 크기가 자동으로 정해진다. <a href="https://developer.xamarin.com/api/type/Xamarin.Forms.GridUnitType/" target="_blank" rel="external">GridUnitType.Auto</a> 또는 Auto 를 사용한다.</li>
<li>비례항(<em>) - 크기를 남은 공간의 비율에 따라 정한다. GridUnitType.Star 또는 “#</em>“ 과 같이 XAML에서 사용할 수 있다. “#”은 원하는 배율의 숫자로 치환된다. “*”로만 사용되었을 경우에는 가능한 공간만큼 채워진다.</li>
<li>절대값 - 정해진 높이나 너비값으로 크기가 정해진다. GridUnitType.Absolute 또는 특정 숫자값을 사용한다.</li>
</ul>
<blockquote>
<blockquote>
<p>주의: Xamarin.Forms 에서 너비의 기본값은 Auto이다. 이 크기는 자식 컴포넌트의 크기에 따라 결정된다는것을 의미한다. Microsoft 플랫폼의 XAML 구현체에서는 이와 달리 “*”가 기본값이다. 이것은, 사용가능한 공간을 모두 채운다.</p>
</blockquote>
</blockquote>
<p>예를들어, 어떤 앱이 세개의 행과 두개의 컬럼으로 구성된다고 가정하자. 마지막 행은 정확히 200px의 높이를 가지고, 맨윗줄은 가운데행 보다 두배 높다. 마지막으로, 맨왼쪽 열은 컨텐츠의 폭만큼 너비를 차지하고 오른쪽은 나머지 공간을 차지한다고 했을때 XAML을 아래와 같이 작성할 수 있다.<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">Grid</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">Grid.RowDefinitions</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">RowDefinition</span> <span class="attr">Height</span>=<span class="string">"2*"</span> /&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">RowDefinition</span> <span class="attr">Height</span>=<span class="string">"*"</span> /&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">RowDefinition</span> <span class="attr">Height</span>=<span class="string">"200"</span> /&gt;</span></div><div class="line">  <span class="tag">&lt;/<span class="name">Grid.RowDefinitions</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">Grid.ColumnDefinitions</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">ColumnDefinition</span> <span class="attr">Width</span>=<span class="string">"Auto"</span> /&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">ColumnDefinition</span> <span class="attr">Width</span>=<span class="string">"*"</span> /&gt;</span></div><div class="line">  <span class="tag">&lt;/<span class="name">Grid.ColumnDefinitions</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">Grid</span>&gt;</span></div></pre></td></tr></table></figure></p>
<p>C# 에서는 아래와 같다.<br><figure class="highlight c"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">var grid = <span class="keyword">new</span> Grid();</div><div class="line">grid.RowDefinitions.Add (<span class="keyword">new</span> RowDefinition &#123; Height = <span class="keyword">new</span> GridLength(<span class="number">2</span>, GridUnitType.Star) &#125;);</div><div class="line">grid.RowDefinitions.Add (<span class="keyword">new</span> RowDefinition &#123; Height = <span class="keyword">new</span> GridLength (<span class="number">1</span>, GridUnitType.Star) &#125;);</div><div class="line">grid.RowDefinitions.Add (<span class="keyword">new</span> RowDefinition &#123; Height = <span class="keyword">new</span> GridLength(<span class="number">200</span>)&#125;);</div><div class="line">grid.ColumnDefinitions.Add (<span class="keyword">new</span> ColumnDefinition&#123; Width = <span class="keyword">new</span> GridLength (<span class="number">200</span>) &#125;);</div></pre></td></tr></table></figure></p>
<h3 id="뷰를-Grid에-삽입하기"><a href="#뷰를-Grid에-삽입하기" class="headerlink" title="뷰를 Grid에 삽입하기"></a>뷰를 Grid에 삽입하기</h3><p>뷰를 Grid에 추가하려면, 뷰를 Grid의 자식으로서 어떤 행과 열에 속할지를 명시하여 추가하면 된다. XAML에서는 Grid.Row와 Grid.Column 을 Zero-base로 추가한다. 즉, 4x4격자의 경우 좌상단 셀의 경우 (0,0)이 되고 우하단 셀은 (3,3)이 된다는것을 의미한다.<br>아래 Grid의 경우 코드를 보자.<br><img src="https://developer.xamarin.com/guides/xamarin-forms/user-interface/layouts/grid/Images/label_grid.png" alt="4x4 Grid"></p>
<p>XAML 코드<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">Grid</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">Grid.RowDefinitions</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">RowDefinition</span> <span class="attr">Height</span>=<span class="string">"*"</span> /&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">RowDefinition</span> <span class="attr">Height</span>=<span class="string">"*"</span> /&gt;</span></div><div class="line">  <span class="tag">&lt;/<span class="name">Grid.RowDefinitions</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">Grid.ColumnDefinitions</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">ColumnDefinition</span> <span class="attr">Width</span>=<span class="string">"*"</span> /&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">ColumnDefinition</span> <span class="attr">Width</span>=<span class="string">"*"</span> /&gt;</span></div><div class="line">  <span class="tag">&lt;/<span class="name">Grid.ColumnDefinitions</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">Label</span> <span class="attr">Text</span>=<span class="string">"Top Left"</span> <span class="attr">Grid.Row</span>=<span class="string">"0"</span> <span class="attr">Grid.Column</span>=<span class="string">"0"</span> /&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">Label</span> <span class="attr">Text</span>=<span class="string">"Top Right"</span> <span class="attr">Grid.Row</span>=<span class="string">"0"</span> <span class="attr">Grid.Column</span>=<span class="string">"1"</span> /&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">Label</span> <span class="attr">Text</span>=<span class="string">"Bottom Left"</span> <span class="attr">Grid.Row</span>=<span class="string">"1"</span> <span class="attr">Grid.Column</span>=<span class="string">"0"</span> /&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">Label</span> <span class="attr">Text</span>=<span class="string">"Bottom Right"</span> <span class="attr">Grid.Row</span>=<span class="string">"1"</span> <span class="attr">Grid.Column</span>=<span class="string">"1"</span> /&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">Grid</span>&gt;</span></div></pre></td></tr></table></figure></p>
<p>C# 코드<br><figure class="highlight c"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">var grid = <span class="keyword">new</span> Grid();</div><div class="line">grid.RowDefinitions.Add(<span class="keyword">new</span> RowDefinition &#123; Height = <span class="keyword">new</span> GridLength(<span class="number">1</span>, GridUnitType.Star)&#125;);</div><div class="line">grid.RowDefinitions.Add(<span class="keyword">new</span> RowDefinition &#123; Height = <span class="keyword">new</span> GridLength(<span class="number">1</span>, GridUnitType.Star)&#125;);</div><div class="line">grid.ColumnDefinitions.Add(<span class="keyword">new</span> ColumnDefinition &#123; Width = <span class="keyword">new</span> GridLength(<span class="number">1</span>, GridUnitType.Star)&#125;);</div><div class="line">grid.ColumnDefinitions.Add(<span class="keyword">new</span> ColumnDefinition &#123; Width = <span class="keyword">new</span> GridLength(<span class="number">1</span>, GridUnitType.Star)&#125;);</div><div class="line">var topLeft = <span class="keyword">new</span> Label &#123; Text = <span class="string">"Top Left"</span> &#125;;</div><div class="line">var topRight = <span class="keyword">new</span> Label &#123; Text = <span class="string">"Top Right"</span> &#125;;</div><div class="line">var bottomLeft = <span class="keyword">new</span> Label &#123; Text = <span class="string">"Bottom Left"</span> &#125;;</div><div class="line">var bottomRight = <span class="keyword">new</span> Label &#123; Text = <span class="string">"Bottom Right"</span> &#125;;</div><div class="line">grid.Children.Add(topLeft, <span class="number">0</span>, <span class="number">0</span>);</div><div class="line">grid.Children.Add(topRight, <span class="number">0</span>, <span class="number">1</span>);</div><div class="line">grid.Children.Add(bottomLeft, <span class="number">1</span>, <span class="number">0</span>);</div><div class="line">grid.Children.Add(bottomRight, <span class="number">1</span>, <span class="number">1</span>);</div></pre></td></tr></table></figure></p>
<p>위 코드는 네개의 레이블을 동일한 크기를 가지는 두개의 컬럼과 행으로 이루어진 격자에 위치시킨다. GridUnitType.Star 이기 때문에 각 레이블은 가능한 공간 만큼 늘어난다.</p>
<h3 id="공백"><a href="#공백" class="headerlink" title="공백"></a>공백</h3><p>Grid는 행과 열사이의 공백을 제어할 수 있는 속성을 갖고 있다.</p>
<ul>
<li>ColumnSpacing - 열사이의 공백</li>
<li>RowSpacing - 행사이의 공백</li>
</ul>
<p>다음 코드는 한행에 두개의 열로 구성되어 있으며, 컬럼사이의 간격은 5px을 할당하였다.<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">Grid</span> <span class="attr">ColumnSpacing</span>=<span class="string">"5"</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">Grid.ColumnDefinitions</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">ColumnDefinitions</span> <span class="attr">Width</span>=<span class="string">"*"</span> /&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">ColumnDefinitions</span> <span class="attr">Width</span>=<span class="string">"*"</span> /&gt;</span></div><div class="line">  <span class="tag">&lt;/<span class="name">Grid.ColumnDefinitions</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">Grid</span>&gt;</span></div></pre></td></tr></table></figure></p>
<p>C# 코드<br><figure class="highlight c"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">var grid = <span class="keyword">new</span> Grid &#123; ColumnSpacing = <span class="number">5</span> &#125;;</div><div class="line">grid.ColumnDefnitions.Add(<span class="keyword">new</span> ColumnDefinition &#123; Width = <span class="keyword">new</span> GridLength (<span class="number">1</span>, GridUnitType.Star)&#125;);</div><div class="line">grid.ColumnDefnitions.Add(<span class="keyword">new</span> ColumnDefinition &#123; Width = <span class="keyword">new</span> GridLength (<span class="number">1</span>, GridUnitType.Star)&#125;);</div></pre></td></tr></table></figure></p>
<h3 id="Spans"><a href="#Spans" class="headerlink" title="Spans"></a>Spans</h3><p>Grid를 사용하다보면, 어떤 요소의 경우 한칸 이상의 행이나 열을 차지할 필요가 생길때가 있다. 아래의 계산기 앱을 보자.<br><img src="https://developer.xamarin.com/guides/xamarin-forms/user-interface/layouts/grid/Images/calculator.png" alt="CalcApp Grid"></p>
<p>“0”버튼이 두개의 컬럼을 사용하고 있다. 이것은 ColumnSpan 속성을 사용하면 된다. 이 속성은 몇개의 컬럼을 차지할지를 정한다.<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">Button</span> <span class="attr">Text</span> = <span class="string">"0"</span> <span class="attr">Grid.Row</span>=<span class="string">"4"</span> <span class="attr">Grid.Column</span>=<span class="string">"0"</span> <span class="attr">Grid.ColumnSpan</span>=<span class="string">"2"</span> /&gt;</span></div></pre></td></tr></table></figure></p>
<p>C# 코드<br><figure class="highlight c"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">Button zeroButton = <span class="keyword">new</span> Button &#123; Text = <span class="string">"0"</span> &#125;;</div><div class="line">controlGrid.Children.Add (zeroButton, <span class="number">0</span>, <span class="number">4</span>);</div><div class="line">Grid.SetColumnSpan (zeroButton, <span class="number">2</span>);</div></pre></td></tr></table></figure></p>
<p>RowSpan도 동일한 방법으로 적용할 수 있다.</p>
<p>출처 : <a href="https://developer.xamarin.com/guides/xamarin-forms/user-interface/layouts/grid/" target="_blank" rel="external">https://developer.xamarin.com/guides/xamarin-forms/user-interface/layouts/grid/</a></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="//schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/11/26/xamarin-forms-listview-basic-3/" itemprop="url">
                  ListView 기본 (3)
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">작성일</span>
            <time itemprop="dateCreated" datetime="2016-11-26T14:54:41+09:00" content="2016-11-26">
              2016-11-26
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/Xamarin/" itemprop="url" rel="index">
                    <span itemprop="name">Xamarin</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/11/26/xamarin-forms-listview-basic-3/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2016/11/26/xamarin-forms-listview-basic-3/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>ListView의 셀의 표현은 두가지 방법으로 접근할 수 있다.</p>
<ul>
<li>기본셀 커스터마이징 - 비용면에서 저렴하고 쉽게 구현이 가능하다.</li>
<li>커스텀셀 생성 - 좀 더 정교한 결과물을 만들어 낼 수 있다. 하지만, 재대로 구현하지 못할 경우 성능 이슈를 야기할 수 있다.</li>
</ul>
<h2 id="기본-셀"><a href="#기본-셀" class="headerlink" title="기본 셀"></a>기본 셀</h2><p>간단한 어플리케이션들을 위해 기본적인 셀을 포함하고 있다.</p>
<ul>
<li>TextCell - 텍스트를 표현하기 위한 셀</li>
<li>ImageCell - 이미지와 텍스트를 표현하기 위한 셀</li>
</ul>
<p><a href="https://developer.xamarin.com/guides/xamarin-forms/user-interface/tableview/#switchcell" target="_blank" rel="external">SwitchCell</a>과 <a href="https://developer.xamarin.com/guides/xamarin-forms/user-interface/tableview/#entrycell" target="_blank" rel="external">EntryCell</a>도 제공되고 있지만, 이들은 ListView보다는 <a href="https://developer.xamarin.com/guides/xamarin-forms/user-interface/tableview/" target="_blank" rel="external">TableView</a>에 주로 사용된다.</p>
<h3 id="TextCell"><a href="#TextCell" class="headerlink" title="TextCell"></a>TextCell</h3><p><a href="http://developer.xamarin.com/api/type/Xamarin.Forms.TextCell/" target="_blank" rel="external">TextCell</a>은 텍스트를 표현하며, 옵션으로 두번째 줄에 상세 텍스트를 표현할 수 있다.<br>TextCell은 네이티브 컨트롤을 실행하여 성능이 커스텀셀에 비해 뛰어나다. TextCell은 다음 속성들을 지원한다.</p>
<ul>
<li>Text - 첫번째 라인에 표시할 텍스트. 큰 폰트를 사용한다.</li>
<li>Detail - 두번째 라인에 표시할 텍스트이며 첫번째 라인보다 작은 폰트를 사용한다.</li>
<li>TextColor - 첫번째 라인의 텍스트 색상</li>
<li><p>DetailColor - 두번째 라인의 텍스트 색상</p>
<p><img src="https://developer.xamarin.com/guides/xamarin-forms/user-interface/listview/customizing-cell-appearance/Images/text_cell_default.png" alt="TextCell Samples"></p>
<h3 id="ImageCell"><a href="#ImageCell" class="headerlink" title="ImageCell"></a>ImageCell</h3><p><a href="http://developer.xamarin.com/api/type/Xamarin.Forms.ImageCell/" target="_blank" rel="external">ImageCell</a> 역시 TextCell과 같이 플랫폼의 네이티브 컨트롤을 사용하여 좋은 성능을 보여준다. TextCell과 다른점은 텍스트의 왼쪽에 이미지를 보여주는 것이다. 그러므로, ImageCell은 TextCell과 동일한 속성에 UmageSource 라는 속성을 추가로 지원한다. 주의할점은, 윈도우폰 8.1에서의 경우 이미지가 자동으로 스케일링이 되지 않아 아래와 같이 보일 수 있다는 점이다.</p>
<p><img src="https://developer.xamarin.com/guides/xamarin-forms/user-interface/listview/customizing-cell-appearance/Images/image_cell_default.png" alt="IMageCell Samples"></p>
<h2 id="커스텀-셀"><a href="#커스텀-셀" class="headerlink" title="커스텀 셀"></a>커스텀 셀</h2><p>기본셀로 표현하기 어려운경우 커스텀셀을 만들 수 있다. 커스텀셀은 반드시 <a href="http://developer.xamarin.com/api/type/Xamarin.Forms.ViewCell/" target="_blank" rel="external">ViewCell</a>을 상속받아야 한다.<br><img src="https://developer.xamarin.com/guides/xamarin-forms/user-interface/listview/customizing-cell-appearance/Images/custom_cell.png" alt="커스텀셀 샘플"></p>
<h3 id="XAML"><a href="#XAML" class="headerlink" title="XAML"></a>XAML</h3><p>위 샘플 레이아웃은 아래의 XAML코드로 표현될 수 있다.</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div></pre></td><td class="code"><pre><div class="line"> &lt;?xml version="1.0" encoding="UTF-8"?&gt;</div><div class="line"><span class="tag">&lt;<span class="name">ContentPage</span> <span class="attr">xmlns</span>=<span class="string">"http://xamarin.com/schemas/2014/forms"</span></span></div><div class="line"><span class="attr">xmlns:x</span>=<span class="string">"http://schemas.microsoft.com/winfx/2009/xaml"</span></div><div class="line"><span class="attr">x:Class</span>=<span class="string">"demoListView.ImageCellPage"</span>&gt;</div><div class="line">    <span class="tag">&lt;<span class="name">ContentPage.Content</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">ListView</span>  <span class="attr">x:Name</span>=<span class="string">"listView"</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">ListView.ItemTemplate</span>&gt;</span></div><div class="line">                <span class="tag">&lt;<span class="name">DataTemplate</span>&gt;</span></div><div class="line">                    <span class="tag">&lt;<span class="name">ViewCell</span>&gt;</span></div><div class="line">                        <span class="tag">&lt;<span class="name">StackLayout</span> <span class="attr">BackgroundColor</span>=<span class="string">"#eee"</span></span></div><div class="line">                        <span class="attr">Orientation</span>=<span class="string">"Vertical"</span>&gt;</div><div class="line">                            <span class="tag">&lt;<span class="name">StackLayout</span> <span class="attr">Orientation</span>=<span class="string">"Horizontal"</span>&gt;</span></div><div class="line">                                <span class="tag">&lt;<span class="name">Image</span> <span class="attr">Source</span>=<span class="string">"&#123;Binding image&#125;"</span> /&gt;</span></div><div class="line">                                <span class="tag">&lt;<span class="name">Label</span> <span class="attr">Text</span>=<span class="string">"&#123;Binding title&#125;"</span></span></div><div class="line">                                <span class="attr">TextColor</span>=<span class="string">"#f35e20"</span> /&gt;</div><div class="line">                                <span class="tag">&lt;<span class="name">Label</span> <span class="attr">Text</span>=<span class="string">"&#123;Binding subtitle&#125;"</span></span></div><div class="line">                                <span class="attr">HorizontalOptions</span>=<span class="string">"EndAndExpand"</span></div><div class="line">                                <span class="attr">TextColor</span>=<span class="string">"#503026"</span> /&gt;</div><div class="line">                            <span class="tag">&lt;/<span class="name">StackLayout</span>&gt;</span></div><div class="line">                        <span class="tag">&lt;/<span class="name">StackLayout</span>&gt;</span></div><div class="line">                    <span class="tag">&lt;/<span class="name">ViewCell</span>&gt;</span></div><div class="line">                <span class="tag">&lt;/<span class="name">DataTemplate</span>&gt;</span></div><div class="line">            <span class="tag">&lt;/<span class="name">ListView.ItemTemplate</span>&gt;</span></div><div class="line">        <span class="tag">&lt;/<span class="name">ListView</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">ContentPage.Content</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">ContentPage</span>&gt;</span></div></pre></td></tr></table></figure>
</li>
</ul>
<ul>
<li>커스텀셀 역시 기본셀과 마챦가지로 DataTemplate의 자식이다.</li>
<li>즉, DataTemplate의 자식 요소는 모두 ViewCell의 파생 클래스 이다.</li>
</ul>
<h3 id="C"><a href="#C" class="headerlink" title="C"></a>C</h3><p>XAML과 동일한 과정을 C#코드를 거치게 되면 조금 더 복잡해 진다. 먼저, ViewCell을 상속받는 CustomCell 클래스를 정의하자.<br><figure class="highlight c"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CustomCell</span> :</span> ViewCell</div><div class="line">    &#123;</div><div class="line">        <span class="function"><span class="keyword">public</span> <span class="title">CustomCell</span><span class="params">()</span></span></div><div class="line">        &#123;</div><div class="line">            <span class="comment">//instantiate each of our views</span></div><div class="line">            var image = <span class="keyword">new</span> Image ();</div><div class="line">            StackLayout cellWrapper = <span class="keyword">new</span> StackLayout ();</div><div class="line">            StackLayout horizontalLayout = <span class="keyword">new</span> StackLayout ();</div><div class="line">            Label left = <span class="keyword">new</span> Label ();</div><div class="line">            Label right = <span class="keyword">new</span> Label ();</div><div class="line"></div><div class="line">            <span class="comment">//set bindings</span></div><div class="line">            left.SetBinding (Label.TextProperty, <span class="string">"title"</span>);</div><div class="line">            right.SetBinding (Label.TextProperty, <span class="string">"subtitle"</span>);</div><div class="line">            image.SetBinding (Image.SourceProperty, <span class="string">"image"</span>);</div><div class="line"></div><div class="line">            <span class="comment">//Set properties for desired design</span></div><div class="line">            cellWrapper.BackgroundColor = Color.FromHex (<span class="string">"#eee"</span>);</div><div class="line">            horizontalLayout.Orientation = StackOrientation.Horizontal;</div><div class="line">            right.HorizontalOptions = LayoutOptions.EndAndExpand;</div><div class="line">            left.TextColor = Color.FromHex (<span class="string">"#f35e20"</span>);</div><div class="line">            right.TextColor = Color.FromHex (<span class="string">"503026"</span>);</div><div class="line"></div><div class="line">            <span class="comment">//add views to the view hierarchy</span></div><div class="line">            horizontalLayout.Children.Add (image);</div><div class="line">            horizontalLayout.Children.Add (left);</div><div class="line">            horizontalLayout.Children.Add (right);</div><div class="line">            cellWrapper.Children.Add (horizontalLayout);</div><div class="line">            View = cellWrapper;</div><div class="line">        &#125;</div><div class="line">    &#125;</div></pre></td></tr></table></figure></p>
<p>다음은, 페이지의 생성자에서 ListView의 ItemTemplate의 속성을 새로운 DataTemplate으로 설정해야 한다.<br><figure class="highlight c"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> partial <span class="class"><span class="keyword">class</span> <span class="title">ImageCellPage</span> :</span> ContentPage</div><div class="line">    &#123;</div><div class="line">        <span class="function"><span class="keyword">public</span> <span class="title">ImageCellPage</span> <span class="params">()</span></span></div><div class="line">        &#123;</div><div class="line">            InitializeComponent ();</div><div class="line">            listView.ItemTemplate = <span class="keyword">new</span> DataTemplate (typeof(CustomCell));</div><div class="line">        &#125;</div><div class="line">    &#125;</div></pre></td></tr></table></figure></p>
<p>DataTemplate의 생성자가 type을 취한것에 주목하라. typeof 오퍼레이터는 CustomCell의 CLR타입을 리턴한다.</p>
<h3 id="컨텍스트-변화-바인딩"><a href="#컨텍스트-변화-바인딩" class="headerlink" title="컨텍스트 변화 바인딩"></a>컨텍스트 변화 바인딩</h3><p>CustomCell의 <a href="https://developer.xamarin.com/api/type/Xamarin.Forms.BindableProperty/" target="_blank" rel="external">BindableProperty</a> 인스턴스에 바인딩할때, UI컨트롤이 BindableProperty의 값을 보여주기 위해서는 <a href="https://developer.xamarin.com/api/member/Xamarin.Forms.Cell.OnBindingContextChanged(" target="_blank" rel="external">OnBindingContextChanged</a>/)를 오버라이드하여 값을 설정해야 한다.<br><figure class="highlight c"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CustomCell</span> :</span> ViewCell</div><div class="line">&#123;</div><div class="line">    Label nameLabel, ageLabel, locationLabel;</div><div class="line"></div><div class="line">    <span class="keyword">public</span> <span class="keyword">static</span> readonly BindableProperty NameProperty =</div><div class="line">        BindableProperty.Create (<span class="string">"Name"</span>, typeof(<span class="built_in">string</span>), typeof(CustomCell), <span class="string">"Name"</span>);</div><div class="line">    <span class="keyword">public</span> <span class="keyword">static</span> readonly BindableProperty AgeProperty =</div><div class="line">        BindableProperty.Create (<span class="string">"Age"</span>, typeof(<span class="keyword">int</span>), typeof(CustomCell), <span class="number">0</span>);</div><div class="line">    <span class="keyword">public</span> <span class="keyword">static</span> readonly BindableProperty LocationProperty =</div><div class="line">        BindableProperty.Create (<span class="string">"Location"</span>, typeof(<span class="built_in">string</span>), typeof(CustomCell), <span class="string">"Location"</span>);</div><div class="line"></div><div class="line">    <span class="keyword">public</span> <span class="built_in">string</span> Name &#123;</div><div class="line">        get &#123; <span class="keyword">return</span>(<span class="built_in">string</span>)GetValue (NameProperty); &#125;</div><div class="line">        <span class="built_in">set</span> &#123; SetValue (NameProperty, value); &#125;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="keyword">public</span> <span class="keyword">int</span> Age &#123;</div><div class="line">        get &#123; <span class="keyword">return</span>(<span class="keyword">int</span>)GetValue (AgeProperty); &#125;</div><div class="line">        <span class="built_in">set</span> &#123; SetValue (AgeProperty, value); &#125;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="keyword">public</span> <span class="built_in">string</span> Location &#123;</div><div class="line">        get &#123; <span class="keyword">return</span>(<span class="built_in">string</span>)GetValue (LocationProperty); &#125;</div><div class="line">        <span class="built_in">set</span> &#123; SetValue (LocationProperty, value); &#125;</div><div class="line">    &#125;</div><div class="line">    ...</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">protected</span> override <span class="keyword">void</span> <span class="title">OnBindingContextChanged</span> <span class="params">()</span></span></div><div class="line">    &#123;</div><div class="line">        base.OnBindingContextChanged ();</div><div class="line"></div><div class="line">        <span class="keyword">if</span> (BindingContext != null) &#123;</div><div class="line">            nameLabel.Text = Name;</div><div class="line">            ageLabel.Text = Age.ToString ();</div><div class="line">            locationLabel.Text = Location;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p><a href="https://developer.xamarin.com/api/event/Xamarin.Forms.BindableObject.BindingContextChanged/" target="_blank" rel="external">BindingContextChanged</a> 이벤트가 발생하면, OnBindingContextChanged 메소ㄷ가 호출된다. 이 메소드는 BindingContext 의 속성값의 변화에 대한 책임을 진다.<br><figure class="highlight c"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CustomCell</span> :</span> ViewCell</div><div class="line">&#123;</div><div class="line">    Label nameLabel, ageLabel, locationLabel;</div><div class="line"></div><div class="line">    <span class="keyword">public</span> <span class="keyword">static</span> readonly BindableProperty NameProperty =</div><div class="line">        BindableProperty.Create (<span class="string">"Name"</span>, typeof(<span class="built_in">string</span>), typeof(CustomCell), <span class="string">"Name"</span>);</div><div class="line">    <span class="keyword">public</span> <span class="keyword">static</span> readonly BindableProperty AgeProperty =</div><div class="line">        BindableProperty.Create (<span class="string">"Age"</span>, typeof(<span class="keyword">int</span>), typeof(CustomCell), <span class="number">0</span>);</div><div class="line">    <span class="keyword">public</span> <span class="keyword">static</span> readonly BindableProperty LocationProperty =</div><div class="line">        BindableProperty.Create (<span class="string">"Location"</span>, typeof(<span class="built_in">string</span>), typeof(CustomCell), <span class="string">"Location"</span>);</div><div class="line"></div><div class="line">    <span class="keyword">public</span> <span class="built_in">string</span> Name &#123;</div><div class="line">        get &#123; <span class="keyword">return</span>(<span class="built_in">string</span>)GetValue (NameProperty); &#125;</div><div class="line">        <span class="built_in">set</span> &#123; SetValue (NameProperty, value); &#125;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="keyword">public</span> <span class="keyword">int</span> Age &#123;</div><div class="line">        get &#123; <span class="keyword">return</span>(<span class="keyword">int</span>)GetValue (AgeProperty); &#125;</div><div class="line">        <span class="built_in">set</span> &#123; SetValue (AgeProperty, value); &#125;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="keyword">public</span> <span class="built_in">string</span> Location &#123;</div><div class="line">        get &#123; <span class="keyword">return</span>(<span class="built_in">string</span>)GetValue (LocationProperty); &#125;</div><div class="line">        <span class="built_in">set</span> &#123; SetValue (LocationProperty, value); &#125;</div><div class="line">    &#125;</div><div class="line">    ...</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">protected</span> override <span class="keyword">void</span> <span class="title">OnBindingContextChanged</span> <span class="params">()</span></span></div><div class="line">    &#123;</div><div class="line">        base.OnBindingContextChanged ();</div><div class="line"></div><div class="line">        <span class="keyword">if</span> (BindingContext != null) &#123;</div><div class="line">            nameLabel.Text = Name;</div><div class="line">            ageLabel.Text = Age.ToString ();</div><div class="line">            locationLabel.Text = Location;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>이제 XAML에서, 커스템 셀의 타입을 아래 코드와 같이 데이터에 바인딩할 수 있다.<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">ListView</span> <span class="attr">x:Name</span>=<span class="string">"listView"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">ListView.ItemTemplate</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">DataTemplate</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">local:CustomCell</span> <span class="attr">Name</span>=<span class="string">"&#123;Binding Name&#125;"</span> <span class="attr">Age</span>=<span class="string">"&#123;Binding Age&#125;"</span> <span class="attr">Location</span>=<span class="string">"&#123;Binding Location&#125;"</span> /&gt;</span></div><div class="line">        <span class="tag">&lt;/<span class="name">DataTemplate</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">ListView.ItemTemplate</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">ListView</span>&gt;</span></div></pre></td></tr></table></figure></p>
<p>결과적으로, CustomCell의 Name, Age, Location이라는 Bindable 속성에 콜렉션 객체의 Name, Age, Location 속성이 바인딩 되었다. 이것을 C#코드로 표현하면 아래와 같다.<br><figure class="highlight c"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">var customCell = <span class="keyword">new</span> DataTemplate (typeof(CustomCell));</div><div class="line">customCell.SetBinding (CustomCell.NameProperty, <span class="string">"Name"</span>);</div><div class="line">customCell.SetBinding (CustomCell.AgeProperty, <span class="string">"Age"</span>);</div><div class="line">customCell.SetBinding (CustomCell.LocationProperty, <span class="string">"Location"</span>);</div><div class="line"></div><div class="line">var listView = <span class="keyword">new</span> ListView &#123;</div><div class="line">    ItemsSource = people,</div><div class="line">    ItemTemplate = customCell</div><div class="line">&#125;;</div></pre></td></tr></table></figure></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="//schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/11/26/xamarin-forms-listview-basic-2/" itemprop="url">
                  ListView 기본 (2)
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">작성일</span>
            <time itemprop="dateCreated" datetime="2016-11-26T13:01:47+09:00" content="2016-11-26">
              2016-11-26
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/Xamarin/" itemprop="url" rel="index">
                    <span itemprop="name">Xamarin</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/11/26/xamarin-forms-listview-basic-2/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2016/11/26/xamarin-forms-listview-basic-2/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>ListView에 데이터를 바인딩 하는 과정은 크게 두가지가 있다.</p>
<ul>
<li>아이템 소스 설정 - 간단한 리스트 또는 배열을 이용</li>
<li>데이터 바인딩 - ListView와 모델간의 관계를 설정. 여기에서 MVVM패턴을 다룬다.</li>
</ul>
<h2 id="아이템-소스"><a href="#아이템-소스" class="headerlink" title="아이템 소스"></a>아이템 소스</h2><p>ListView 는 ItemSource 속성을 사용해 데이터를 생성할 수 있다. 이 속성은 IEnumerable을 구현하는 어떤 컬렉션이든 수용할 수 있다. ListView를 생성하는 가장 간단한 방법은 문자열 배열을 이용하는 것이다.<br><figure class="highlight c"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">var listView = <span class="keyword">new</span> ListView();</div><div class="line">listView.ItemsSource = <span class="keyword">new</span> <span class="built_in">string</span>[]&#123;</div><div class="line">  <span class="string">"mono"</span>,</div><div class="line">  <span class="string">"monodroid"</span>,</div><div class="line">  <span class="string">"monotouch"</span>,</div><div class="line">  <span class="string">"monorail"</span>,</div><div class="line">  <span class="string">"monodevelop"</span>,</div><div class="line">  <span class="string">"monotone"</span>,</div><div class="line">  <span class="string">"monopoly"</span>,</div><div class="line">  <span class="string">"monomodal"</span>,</div><div class="line">  <span class="string">"mononucleosis"</span></div><div class="line">&#125;;</div><div class="line"></div><div class="line"><span class="comment">//monochrome will not appear in the list because it was added</span></div><div class="line"><span class="comment">//after the list was populated.</span></div><div class="line">listView.ItemsSource.Add(<span class="string">"monochrome"</span>);</div></pre></td></tr></table></figure></p>
<p><img src="https://developer.xamarin.com/guides/xamarin-forms/user-interface/listview/data-and-databinding/Images/ItemsSource_simple.png" alt="ListView with string array"></p>
<p>기본적으로, ListView는 ToString을 호출하고 그 결과를 TextCell에 표현한다. 셀의 커스터마이징에 관해서는 <a href="https://developer.xamarin.com/guides/xamarin-forms/user-interface/listview/customizing-cell-appearance/" target="_blank" rel="external">Cell Appearance</a>를 참고하라.<br>하지만, 이 방법은 기반인 문자열 배열이 이미 ItemSource에 이미 보내졌기 때문에 변경사항이 반영되지 않는다. 만일, ListView에 이러한 변경이나 추가, 삭제가 자동으로 업데이트 되길 원한다면 <a href="http://developer.xamarin.com/api/type/System.Collections.ObjectModel.ObservableCollection%3CT%3E/" target="_blank" rel="external">ObservableCollection</a>을 사용해야 한다. 이것은 System.Collections.ObjectModel에 정의되어 있다. 이것은 List와 비슷하지만, 컬렉션의 변화를 ListView에 알려줄 수 있다.<br><figure class="highlight c"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">ObservableCollection&lt;Employees&gt; employeeList = <span class="keyword">new</span> ObservableCollection&lt;Employess&gt;();</div><div class="line">listView.ItemsSource = employeeList;</div><div class="line"></div><div class="line"><span class="comment">//Mr. Mono will be added to the ListView because it uses an ObservableCollection</span></div><div class="line">employeeList.Add(<span class="keyword">new</span> Employee()&#123; DisplayName=<span class="string">"Mr. Mono"</span>&#125;);</div></pre></td></tr></table></figure></p>
<h2 id="데이터-바인딩"><a href="#데이터-바인딩" class="headerlink" title="데이터 바인딩"></a>데이터 바인딩</h2><p>데이터 바인등은 사용자 인터페이스의 속성과 ViewModel과 같은 CLR객체의 속성을 연결하는 과정을 말한다. 데이터 바인딩 덕분에 사용자 인터페이스를 갱신하는 많은 귀챦은 작업들이 간편해 질수 있다. <a href="https://developer.xamarin.com/guides/xamarin-forms/user-interface/xaml-basics/data_binding_basics/" target="_blank" rel="external">데이터 바인딩의 기초</a>에 관한 글을 참고하라.</p>
<h3 id="바인딩-셀"><a href="#바인딩-셀" class="headerlink" title="바인딩 셀"></a>바인딩 셀</h3><p>셀의 속성은 ItemSource에 객체의 속성과 바인딩 될 수 있다. 아래 예제는 ListView에 직원들의 목록을 표시하는 예제이다.</p>
<p>직원 클래스:<br><figure class="highlight c"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Employee</span>&#123;</span></div><div class="line">    <span class="keyword">public</span> <span class="built_in">string</span> DisplayName &#123;get; <span class="built_in">set</span>;&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>ListView의 ItemsSource에 ObservableCollection<employee> 를 설정한다.<br><figure class="highlight c"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">ObservableCollection&lt;Employee&gt; employees = <span class="keyword">new</span> ObservableCollection&lt;Employee&gt;();</div><div class="line"><span class="function"><span class="keyword">public</span> <span class="title">EmployeeListPage</span><span class="params">()</span></span></div><div class="line">&#123;</div><div class="line">  <span class="comment">//defined in XAML to follow</span></div><div class="line">  EmployeeView.ItemsSource = employees;</div><div class="line">  ...</div><div class="line">&#125;</div></pre></td></tr></table></figure></employee></p>
<p>다음과 같이 샘플 데이터를 생성한다.<br><figure class="highlight c"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">public</span> <span class="title">EmployeeListPage</span><span class="params">()</span></span></div><div class="line">&#123;</div><div class="line">  ...</div><div class="line">  employees.Add(<span class="keyword">new</span> Employee&#123; DisplayName=<span class="string">"Rob Finnerty"</span>&#125;);</div><div class="line">  employees.Add(<span class="keyword">new</span> Employee&#123; DisplayName=<span class="string">"Bill Wrestler"</span>&#125;);</div><div class="line">  employees.Add(<span class="keyword">new</span> Employee&#123; DisplayName=<span class="string">"Dr. Geri-Beth Hooper"</span>&#125;);</div><div class="line">  employees.Add(<span class="keyword">new</span> Employee&#123; DisplayName=<span class="string">"Dr. Keith Joyce-Purdy"</span>&#125;);</div><div class="line">  employees.Add(<span class="keyword">new</span> Employee&#123; DisplayName=<span class="string">"Sheri Spruce"</span>&#125;);</div><div class="line">  employees.Add(<span class="keyword">new</span> Employee&#123; DisplayName=<span class="string">"Burt Indybrick"</span>&#125;);</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>다음은 ListView를 바인딩하는 XAML 이다.<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">&lt;?xml version="1.0" encoding="utf-8" ?&gt;</div><div class="line"><span class="tag">&lt;<span class="name">ContentPage</span> <span class="attr">xmlns</span>=<span class="string">"http://xamarin.com/schemas/2014/forms"</span></span></div><div class="line"><span class="attr">xmlns:x</span>=<span class="string">"http://schemas.microsoft.com/winfx/2006/xaml"</span></div><div class="line"><span class="attr">xmlns:constants</span>=<span class="string">"clr-namespace:XamarinFormsSample;assembly=XamarinFormsXamlSample"</span></div><div class="line"><span class="attr">x:Class</span>=<span class="string">"XamarinFormsXamlSample.Views.EmployeeListPage"</span></div><div class="line"><span class="attr">Title</span>=<span class="string">"Employee List"</span>&gt;</div><div class="line">  <span class="tag">&lt;<span class="name">ListView</span> <span class="attr">x:Name</span>=<span class="string">"EmployeeView"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">ListView.ItemTemplate</span>&gt;</span></div><div class="line">      <span class="tag">&lt;<span class="name">DataTemplate</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">TextCell</span> <span class="attr">Text</span>=<span class="string">"&#123;Binding DisplayName&#125;"</span> /&gt;</span></div><div class="line">      <span class="tag">&lt;/<span class="name">DataTemplate</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">ListView.ItemTemplate</span>&gt;</span></div><div class="line">  <span class="tag">&lt;/<span class="name">ListView</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">ContentPage</span>&gt;</span></div></pre></td></tr></table></figure></p>
<p>각 행의 레이아웃은 ListView.ItemTemplate 요소이며, TextCell에 이름이 바인딩되어 있다. 결과는 아래와 같다.<br><img src="https://developer.xamarin.com/guides/xamarin-forms/user-interface/listview/data-and-databinding/Images/bound_data.png" alt="Result"></p>
<h3 id="선택된-요소의-바인딩"><a href="#선택된-요소의-바인딩" class="headerlink" title="선택된 요소의 바인딩"></a>선택된 요소의 바인딩</h3><p>ListView의 현재 선택된 아이템을 바인드 하고 싶을 경우 이벤트 핸들러를 사용해 변화에 대응하는것 보다, XAML의 SelectedItem속성을 사용할 수 있다.<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">ListView</span> <span class="attr">x:Name</span>=<span class="string">"listView"</span></span></div><div class="line"> <span class="attr">SelectedItem</span>=<span class="string">"&#123;Binding Source=&#123;x:Reference SomeLabel&#125;,</span></div><div class="line"> Path=Text&#125;"&gt;</div><div class="line"> …</div><div class="line"><span class="tag">&lt;/<span class="name">ListView</span>&gt;</span></div></pre></td></tr></table></figure></p>
<p>ListView의 ItemsSource는 문자열 배열이며, SomeLabel의 Text속성이 SelectedItem에 바인딩될 것이다.</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="//schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/11/25/xamarin-forms-listview-basic-1/" itemprop="url">
                  ListView 기본 (1)
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">작성일</span>
            <time itemprop="dateCreated" datetime="2016-11-25T21:17:12+09:00" content="2016-11-25">
              2016-11-25
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/Xamarin/" itemprop="url" rel="index">
                    <span itemprop="name">Xamarin</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/11/25/xamarin-forms-listview-basic-1/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2016/11/25/xamarin-forms-listview-basic-1/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>ListView는 데이터의 목록을 표현하는 뷰이다. 이 가이드에서는 LivtView와 관련하여 다음과 같은 주제들을 다룰것이다.</p>
<ol>
<li><a href="https://developer.xamarin.com/guides/xamarin-forms/user-interface/listview/data-and-databinding/" target="_blank" rel="external">데이터 소스</a> - ListView에 사용될 데이터.</li>
<li><a href="https://developer.xamarin.com/guides/xamarin-forms/user-interface/listview/customizing-cell-appearance/" target="_blank" rel="external">셀 표현</a> - 기본셀 또는 사용자가 생성한 셀의 커스터마이징.</li>
<li><a href="https://developer.xamarin.com/guides/xamarin-forms/user-interface/listview/customizing-list-appearance/" target="_blank" rel="external">목록 표현</a> - ListView의 헤더와 푸터, 그룹핑과 행의 높이 조절등.</li>
<li><a href="https://developer.xamarin.com/guides/xamarin-forms/user-interface/listview/interactivity/" target="_blank" rel="external">인터랙티브</a> - 사용자의 행 선택과 새로고침, 컨텍스트 메뉴 행동에 대한 처리</li>
</ol>
<h2 id="사용예"><a href="#사용예" class="headerlink" title="사용예"></a>사용예</h2><p>항상 UI control은 목적에 맞게 적절히 사용되어져야 한다. ListView는 스크롤이 필요한 데이터 목록이 필요한 어떤곳에서든 사용될 수 있으며, 컨텍스트 액션과 데이터 바이딩을 지원한다. ListView는 <a href="http://developer.xamarin.com/guides/xamarin-forms/working-with/tableview/" target="_blank" rel="external">TableView</a>와 구분되어 사용되어야 한다. iOS의 설정앱에 보여지는 목록과 같이 보여줄 데이터가 미리 정해져 있을 경우에는 ListView보다 TableView가 더 적합하다.<br>또한, ListView는 동질의 반복되는 데이터를 표현하는데 적합하다. 그것은, ListView가 행에 대해 한가지 셀타입만 지원하기 때문이다. 반면, TableView는 여러가지 셀타입을 지원하므로, 혼합된 형태의 뷰가 필요하다뎐 TableView가 더 적합하다.</p>
<h2 id="컴포넌트"><a href="#컴포넌트" class="headerlink" title="컴포넌트"></a>컴포넌트</h2><p>ListView는 각 플랫폼의 네이티브가 가진 기능들을 거의 다 가지고 있다.</p>
<ul>
<li>헤더와 푸터 - 목록의 시작과 끝지점에 데이터 소스와는 별개로 텍스트 또는 특정뷰를 바인딩 할 수 있다.</li>
<li><p>그룹 - 데이터를 그룹화하여 표현할 수 있다. 일반적으로, 데이터와 바인딩 된다.<br><img src="https://developer.xamarin.com/guides/xamarin-forms/user-interface/listview/Images/grouping_depth.png" alt="ListView 1"></p>
</li>
<li><p>셀 - ListView의 데이터는 셀의 형태로 표현된다. 각 셀은 하나의 행 데이터와 대응된다. 기본적으로 제공되는 셀을 사용할 수도 있고 사용자가 만들수도 있다. 셀은 XAML 또는 코드로 정의될 수 있다.</p>
<ul>
<li>기본셀 - 내장된 셀들로서 TextCell, ImageCell과 같은 것이 있다. 기본적으로, 각 플랫폼의 네이티브 컨트롤과 대응되어 좋은 성능을 보여준다.</li>
<li>TextCell - 텍스트 문자열을 보여준다. 옵션으로 상세 텍스트를 제공할 수 있다. 상세 텍스트는 두번째 라인에 작은 폰트와 강조된 색상으로 표현된다.</li>
<li>ImageCell - 이미지와 텍스트. 왼쪽의 이미지와 오른쪽에 TextCell의 형태로 표현된다.</li>
<li>사용자 정의 셀 - 사용자가 보여주고 싶은 형태로 셀을 꾸밀 수 있다. 노래 목록에 앨범과 가수의 정보등을 함께 표현하는등의 뷰를 만들 수 있다.<br><img src="https://developer.xamarin.com/guides/xamarin-forms/user-interface/listview/Images/image_cell_default.png" alt="Cell 1"></li>
</ul>
</li>
</ul>
<h2 id="기능"><a href="#기능" class="headerlink" title="기능"></a>기능</h2><p>ListView 는 다양한 사용자 인터랙션 경험을 지원한다.</p>
<ul>
<li><a href="https://developer.xamarin.com/guides/xamarin-forms/user-interface/listview/interactivity/#Pull_to_Refresh" target="_blank" rel="external">Pull-to-Refresh</a> - 각 플랫폼별로 목록 새로고침을 지원</li>
<li><a href="https://developer.xamarin.com/guides/xamarin-forms/user-interface/listview/interactivity/#Context_Actions" target="_blank" rel="external">Context Action</a> - 목록의 각 행(아이템)에 대한 네이티트 액션을 지원한다. 예를들어, iOS 에서의 밀기 액션(Swipe-to-action) 이다 Android, 윈도우폰의 길게 누름과 같은 액션(long-tap)이 있다.</li>
<li><a href="https://developer.xamarin.com/guides/xamarin-forms/user-interface/listview/interactivity/#Selection_Taps" target="_blank" rel="external">Selection</a> - 각 행을 탭하였을때 선택 또는 선택 해제에 대한 액션을 수행할 수 있다.<br><img src="https://developer.xamarin.com/guides/xamarin-forms/user-interface/listview/Images/context_default.png" alt="Functionality 1"></li>
</ul>
<p>ListView의 인터랙티브에 대한 더 자세한 사항은 <a href="https://developer.xamarin.com/guides/xamarin-forms/user-interface/listview/interactivity/" target="_blank" rel="external">Actions &amp; Interactivity with ListView</a>를 참고하라.</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="//schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/11/02/async-support-overview/" itemprop="url">
                  C# 5.0 비동기 프로그래밍 개요
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">작성일</span>
            <time itemprop="dateCreated" datetime="2016-11-02T23:13:49+09:00" content="2016-11-02">
              2016-11-02
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/Xamarin/" itemprop="url" rel="index">
                    <span itemprop="name">Xamarin</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/11/02/async-support-overview/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2016/11/02/async-support-overview/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>C# 5.0부터는 비동기 오퍼레이션을 위한 두개의 키워드 async와 await가 추가되었다. 이 키워드를 이용하여 간단한 코드로 Task 병렬 라이브러리를 이용해 네트워크 억세스와 같이 별도의 쓰레드에서 비교적 긴시간이 걸리는 작업에 대한 결과를 쉽게 얻을 수 있다.</p>
<h2 id="개요"><a href="#개요" class="headerlink" title="개요"></a>개요</h2><p>이 문서는 Xamarin.iOS와 Xamarin.Android를 기준으로 간단한 예제를 구현하고 있으며, 좀 더 상세한 정보는 MSDN문서 <a href="http://msdn.microsoft.com/en-us/library/vstudio/hh191443.aspx" target="_blank" rel="external">Async와 Await를 이용한 비동기 프로그래밍</a>를 참고하기 바란다.<br>샘플 어플리케이션은 메인 쓰레드에 대한 간섭(Blocking)없이 간단한 비동기 웹요청을 보내고 그 결과값을 UI에 반영하는 과정을 보여준다.<br><img src="https://developer.xamarin.com/guides/cross-platform/advanced/async_support_overview/Images/AsyncAwait_427x368.png" alt="결과화면"></p>
<p>C# 5.0은 Mono 3.0 이상을 요구하며, Xamarin.iOS 6.4, Xamarin.Android 4.8 이상에 포함되어 있다. 최신 버전의 Xamarin Studio로 업그래이드 하면 사용이 가능하다.</p>
<h2 id="async"><a href="#async" class="headerlink" title="async"></a>async</h2><p>async 키워드는 메소드 정의시에 사용된다. 람다 또는 익명 메소드에도 사용될 수 있다. 이것은 해당 메소드가 비동기 코드를 포함하고 있다는것을 의미한다. 즉, 호출자의 쓰레드를 블록킹하지 않도록 한다는것을 의미한다. 그러므로, async 메소드는 반드시 하나 이상의 await 구문 또는 표현식을 포함하여야 한다. 만일, await 구문이 없다면 컴파일러 경고가 발생하며 심각한 에러가 발생하지는 않는다.</p>
<h3 id="반환값"><a href="#반환값" class="headerlink" title="반환값"></a>반환값</h3><p>async 메소드는 Task, Task<tresult> 또는 void 타입을 리턴한다.</tresult></p>
<ul>
<li>메소드가 어떤 값도 리턴하지 않는다면 Task형을 리턴 하도록 한다.</li>
<li>값을 리턴할 필요가 있다면 Task<tresult>형을 리턴 하도록 한다. TResult는 타입명이다.</tresult></li>
<li>void 리턴 타입은 주로 이벤트 핸들러의 경우에 사용된다. 이 코드는 결과를 기다리지 않는다.</li>
</ul>
<h2 id="await"><a href="#await" class="headerlink" title="await"></a>await</h2><p>await 오퍼레이터는 해당 작업을 비동기로 구분한다. 이 지점에 메소드의 실행이 멈추고 작업이 끝나기를 기다리게 된다. await의 사용은 호출 쓰레드까지 멈추게 하지 않고 제어권을 호출자에게 넘긴다. 일반적으로 호출자는 UI 쓰레드인 경우가 많으며 태스크를 기다리는 동안에도 사용자 인터페이스는 블록킹이 되지 않도록 해준다. 작업이 종료되면, 메소드는 다시 원래 지점으로 돌아와 실행을 계속한다. await는 try-catch-finally 구문에서 try 블록 내에서만 사용이 가능하며 catch나 finally 블록에서는 사용될 수 없다. await에 대한 더 상세한 정보는 <a href="http://msdn.microsoft.com/en-us/library/vstudio/hh156528.aspx" target="_blank" rel="external">await on MSDN</a>를 참고하라.</p>
<h2 id="취소"><a href="#취소" class="headerlink" title="취소"></a>취소</h2><p>완료하는데 오랜 시간이 걸리는 비동기 메소드는 취소(cancellation)를 지원해야 한다. 일반적으로, 취소는 다음과 같은 순서로 실행된다.</p>
<ol>
<li>CancellationTokenSource 객체를 생성한다.</li>
<li>CancellationTokenSource.Token 인스턴스가 취소 가능한 비동기 메소드로 전달된다.</li>
<li>CancellationTokenSource.Cancel 메소드를 호출하여 취소를 요청한다.</li>
</ol>
<p>취소에 대한 상세한 정보는, MSDN의 <a href="http://msdn.microsoft.com/en-us/library/vstudio/jj155761.aspx" target="_blank" rel="external">how to cancel an asynchronous task</a> 문서를 참고하라.</p>
<h2 id="예제"><a href="#예제" class="headerlink" title="예제"></a>예제</h2><p><a href="https://developer.xamarin.com/samples/mobile/AsyncAwait/" target="_blank" rel="external">예제소스</a>를 통해 async 와 await 의 모바일에서 실사용 예를 살펴보자.</p>
<h3 id="async-메소드-작성"><a href="#async-메소드-작성" class="headerlink" title="async 메소드 작성"></a>async 메소드 작성</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> async Task&lt;<span class="keyword">int</span>&gt; DownloadHomepage()</div><div class="line">&#123;</div><div class="line">    var httpClient = <span class="keyword">new</span> HttpClient(); <span class="comment">// Xamarin supports HttpClient!</span></div><div class="line"></div><div class="line">    Task&lt;<span class="built_in">string</span>&gt; contentsTask = httpClient.GetStringAsync(<span class="string">"http://xamarin.com"</span>); <span class="comment">// async method!</span></div><div class="line"></div><div class="line">    <span class="comment">// await! control returns to the caller and the task continues to run on another thread</span></div><div class="line">    <span class="built_in">string</span> contents = await contentsTask;</div><div class="line"></div><div class="line">    ResultEditText.Text += <span class="string">"DownloadHomepage method continues after async call. . . . .\n"</span>;</div><div class="line"></div><div class="line">    <span class="comment">// After contentTask completes, you can calculate the length of the string.</span></div><div class="line">    <span class="keyword">int</span> exampleInt = contents.Length;</div><div class="line"></div><div class="line">    ResultEditText.Text += <span class="string">"Downloaded the html and found out the length.\n\n\n"</span>;</div><div class="line"></div><div class="line">    ResultEditText.Text += contents; <span class="comment">// just dump the entire HTML</span></div><div class="line"></div><div class="line">    <span class="keyword">return</span> exampleInt; <span class="comment">// Task&lt;TResult&gt; returns an object of type TResult, in this case int</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<ul>
<li>이 메소드 선언은 async 키워드를 포함한다.</li>
<li>반환 타입은 Task&lt;int&gt;이다. 즉, 호출자는 정수값을 받을 수 있다.</li>
<li>리턴 구문은 return exampleInt; 이다.</li>
</ul>
<h3 id="async-메소드-호출-1"><a href="#async-메소드-호출-1" class="headerlink" title="async 메소드 호출 1"></a>async 메소드 호출 1</h3><p>다음 코드는 안드로이드 샘플 소스에서 발췌한 버튼 클릭에 대한 이벤트 핸들러 이다.<br><figure class="highlight c"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">GetButton.Click += async (sender, e) =&gt; &#123;</div><div class="line"></div><div class="line">    Task&lt;<span class="keyword">int</span>&gt; sizeTask = DownloadHomepage();</div><div class="line"></div><div class="line">    ResultTextView.Text = <span class="string">"loading..."</span>;</div><div class="line">    ResultEditText.Text = <span class="string">"loading...\n"</span>;</div><div class="line"></div><div class="line">    <span class="comment">// await! control returns to the caller</span></div><div class="line">    var intResult = await sizeTask;</div><div class="line"></div><div class="line">    <span class="comment">// when the Task&lt;int&gt; returns, the value is available and we can display on the UI</span></div><div class="line">    ResultTextView.Text = <span class="string">"Length: "</span> + intResult ;</div><div class="line">    <span class="comment">// "returns" void, since it's an event handler</span></div><div class="line">&#125;;</div></pre></td></tr></table></figure></p>
<ul>
<li>익명의 딜리게이트는 이벤트 핸들러에 비동이 메소드임을 나타내는 async 키워드를 사용할 수 있다.</li>
<li>DownloadHomepage 는 비동기 메소드로서 Task를 리턴하고, 이것을 sizeTask 변수에 저장한다.</li>
<li>sizeTask에 대한 await코드는 메소드가 실제로 정체되는 구간으로 제어가 호출자로 돌아가는 부분이다. 이것은 비동기 작업이 현재 쓰레드로 돌아왔을때 다시 재개된다.</li>
<li>Task가 앞부분에 선언되었다고 해서 메소드가 정체되지 않는다. 반면, Task는 await 키워드가 노출된 부분부터 실행이 정체된다.</li>
<li>비동기 작업이 완료되었을뗘 , intResult값이 할당되고 원래 쓰레드로 돌아온다.</li>
</ul>
<h3 id="async-메소드-호출-2"><a href="#async-메소드-호출-2" class="headerlink" title="async 메소드 호출 2"></a>async 메소드 호출 2</h3> <figure class="highlight plain"><figcaption><span>+= HandleTouchUpInside</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">...</div><div class="line">async void HandleTouchUpInside (object sender, EventArgs e)</div><div class="line">&#123;</div><div class="line">    ResultLabel.Text = &quot;loading...&quot;;</div><div class="line">    ResultTextView.Text = &quot;loading...\n&quot;;</div><div class="line"></div><div class="line">    // await! control returns to the caller</div><div class="line">    var intResult = await DownloadHomepage();</div><div class="line"></div><div class="line">    // when the Task&lt;int&gt; returns, the value is available and we can display on the UI</div><div class="line">    ResultLabel.Text = &quot;Length: &quot; + intResult ;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>TODO: summary</p>
<p>출처 : <a href="https://developer.xamarin.com/guides/cross-platform/advanced/async_support_overview/" target="_blank" rel="external">https://developer.xamarin.com/guides/cross-platform/advanced/async_support_overview/</a></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="//schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/10/30/dependency-service-introduction/" itemprop="url">
                  DependencyService를 이용한 네이티브 접근
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">작성일</span>
            <time itemprop="dateCreated" datetime="2016-10-30T11:34:38+09:00" content="2016-10-30">
              2016-10-30
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/Xamarin/" itemprop="url" rel="index">
                    <span itemprop="name">Xamarin</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/10/30/dependency-service-introduction/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2016/10/30/dependency-service-introduction/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="개요"><a href="#개요" class="headerlink" title="개요"></a>개요</h2><p><a href="https://developer.xamarin.com/api/type/Xamarin.Forms.DependencyService/" target="_blank" rel="external">DependencyService</a>는 공유코드에서 플랫폼 고유의 기능을 호출할 수 있도록 해준다. DependencyService는 공유코드에 인터페이스를 정의하고 이것에 대한 실제 구현을 찾아주는 resolver의 역할을 수행함으로써 네이티브 앱이 할수 있는 모든 일은 Xamarin.Forms 앱이 할 수 있도록 해준다.</p>
<h2 id="DependencyService의-작동-원리"><a href="#DependencyService의-작동-원리" class="headerlink" title="DependencyService의 작동 원리"></a>DependencyService의 작동 원리</h2><p>DependencyService를 사용하기 위해서는 크게 세가지 컴포넌트가 필요하다.</p>
<ul>
<li>인터페이스 : 필요한 기능이 공유코드에 인터페이스로 정의된다.</li>
<li>플랫폼 구현체 : 각 플랫폼에 대한 인터페이스의 구현체 클래스.</li>
<li>등록(Registration) : 각 플랫폼 구현체는 메타데이터 속성을 통해 DependencyService에 등록 되어야만 한다. 이 과정은 DependencyService가 구현체를 찾고 런타임에 인터페이스에 해당 구현체를 공급할 수 있도록 해준다.</li>
<li>DependencyService 호출 : 공유코드는 인터페이스의 구현체를 찾기위해 명시적으로 DependencyService를 호출할 필요가 있다.</li>
</ul>
<p>이 과정을 간단히 도식화 하면 아래와 같다.</p>
<p><img src="https://developer.xamarin.com/guides/xamarin-forms/dependency-service/introduction/Images/overview_diagram.png" alt="DependencyService 개념도"></p>
<h2 id="인터페이스"><a href="#인터페이스" class="headerlink" title="인터페이스"></a>인터페이스</h2><p>인터페이스는 사용하고자 하는 플랫폼 고유의 기능을 정의한다. 만일, 개발하고자 하는 모듈이 다른 프로젝트와 공유될 수 있는 컴포넌트이거나 Nuget 패키지 형태라면 고려되지 않은 네이티브 플랫폼에서 런타임 오류가 발생 할 수 있으므로 주의해야 한다. 아래의 예제코드는 텍스트를 읽어주는 기능에 대한 인터페이스이다. 하지만, 각 플랫폼의 구현체는 별도로 제공하거나 남겨두어야 한다.<br><figure class="highlight c"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> interface ITextToSpeech &#123;</div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Speak</span> <span class="params">( <span class="built_in">string</span> text )</span></span>; <span class="comment">//note that interface members are public by default</span></div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h2 id="플랫폼에서의-구현"><a href="#플랫폼에서의-구현" class="headerlink" title="플랫폼에서의 구현"></a>플랫폼에서의 구현</h2><p>인테페이스가 정의되면 프로젝트의 각 플랫폼 프로젝트에서 구현이 수반되어야 한다. 아래 예제코드는 ITextToSpeech 인터페이스에 대한 윈도우폰 플랫폼의 구현에 대한 예제이다.<br><figure class="highlight c"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">namespace</span> TextToSpeech.WinPhone</div><div class="line">&#123;</div><div class="line">  <span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TextToSpeechImplementation</span> :</span> ITextToSpeech</div><div class="line">  &#123;</div><div class="line">      <span class="function"><span class="keyword">public</span> <span class="title">TextToSpeechImplementation</span><span class="params">()</span> </span>&#123;&#125;</div><div class="line"></div><div class="line">      <span class="function"><span class="keyword">public</span> async <span class="keyword">void</span> <span class="title">Speak</span><span class="params">(<span class="built_in">string</span> text)</span></span></div><div class="line">      &#123;</div><div class="line">          SpeechSynthesizer synth = <span class="keyword">new</span> SpeechSynthesizer();</div><div class="line">          await synth.SpeakTextAsync(text);</div><div class="line">      &#125;</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>모든 네이티브 구현체는 반드시 인자가 없는 생성자를 포함하여야 한다. 이것은, DependencyService가 이 구현체를 인스턴스화 하기 위해 필요하다.</p>
<h2 id="등록"><a href="#등록" class="headerlink" title="등록"></a>등록</h2><p>인터페이스에 대한 구현체는 DependencyService가 찾을 수 있도록 메타데이터와 함께 등록되어야 한다. 아래 코드는 윈도우폰을 위한 구현체의 등록 예제이다.<br><figure class="highlight c"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">using</span> TextToSpeech.WinPhone;</div><div class="line"></div><div class="line">[assembly: Xamarin.Forms.Dependency (typeof (TextToSpeechImplementation))]</div><div class="line"><span class="keyword">namespace</span> TextToSpeech.WinPhone &#123;</div><div class="line">  <span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TextToSpeechImplementation</span> :</span> ITextToSpeech</div><div class="line">  &#123;</div><div class="line">      <span class="function"><span class="keyword">public</span> <span class="title">TextToSpeechImplementation</span><span class="params">()</span> </span>&#123;&#125;</div><div class="line"></div><div class="line">      <span class="function"><span class="keyword">public</span> async <span class="keyword">void</span> <span class="title">Speak</span><span class="params">(<span class="built_in">string</span> text)</span></span></div><div class="line">      &#123;</div><div class="line">          SpeechSynthesizer synth = <span class="keyword">new</span> SpeechSynthesizer();</div><div class="line">          await synth.SpeakTextAsync(text);</div><div class="line">      &#125;</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>이 코드에서 등록이 클래스 레벨이 아닌 네임스페이스 레벨에서 이루어지는것에 주의해야 한다.</p>
<h2 id="DependencyService-호출"><a href="#DependencyService-호출" class="headerlink" title="DependencyService 호출"></a>DependencyService 호출</h2><p>공통 인터페이스와 플랫폼 고유의 구현체가 DependencyService에 등록되었다면 아래 예제 코드와 같이 호출하여 사용할 수 있다.</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">DependencyService.Get&lt;ITextToSpeech&gt;().Speak(<span class="string">"Hello from Xamarin Forms"</span>);</div></pre></td></tr></table></figure>
<h2 id="예제소스-구조"><a href="#예제소스-구조" class="headerlink" title="예제소스 구조"></a>예제소스 구조</h2><p><a href="https://developer.xamarin.com/samples/UsingDependencyService/" target="_blank" rel="external">예제코드</a>는 iOS와 Android 구현체를 포함 하고 있으며 아래 그림과 같이 구성되어 있다.</p>
<p><img src="https://developer.xamarin.com/guides/xamarin-forms/dependency-service/introduction/Images/solution.png" alt="예제소스 구조"></p>
<p>원본출처 : <a href="https://developer.xamarin.com/guides/xamarin-forms/dependency-service/introduction/" target="_blank" rel="external">https://developer.xamarin.com/guides/xamarin-forms/dependency-service/introduction/</a></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="//schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/10/29/events-with-commanding/" itemprop="url">
                  Xamarin.Forms 데이터 바인딩 3/3
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">작성일</span>
            <time itemprop="dateCreated" datetime="2016-10-29T13:29:19+09:00" content="2016-10-29">
              2016-10-29
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/Xamarin/" itemprop="url" rel="index">
                    <span itemprop="name">Xamarin</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/10/29/events-with-commanding/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2016/10/29/events-with-commanding/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>이전 시리즈에서 <a href="http://chanlee.github.io/2016/10/27/introduction-to-data-binding/">기본적인 데이터 바인딩</a>을 이용하여 Xamarin.Forms 어플리케이션을 개발할때 최소한의 노력으로 앱의 데이터와 UI가 동기화 할 수 있다는것을 확인하였다. 다음에는, 좀 더 <a href="http://chanlee.github.io/2016/10/27/advanced-data-binding/">진보된 바인딩 시나리오</a>에 따라 소스와 타깃객체 사이에 값을 전달시 변환하는 방법도 보았다.<br>이번 글에서는, Xamarin.Forms의 커맨딩이라는 기능을 소개할것이다. 이것은 뷰모델에 직접 메소드 호출을 하여 데이터 바인딩이 이루어지도록 해준다.</p>
<h2 id="커맨딩-Commanding-소개"><a href="#커맨딩-Commanding-소개" class="headerlink" title="커맨딩(Commanding) 소개"></a>커맨딩(Commanding) 소개</h2><p>기존의 메소드 호출 방법은 일반적으로 버튼객체에 Clicked 이벤트 핸들러나 TapGestureRecognizer의 Tapped 이벤트 핸들러로부터 메소드를 실행하는 형태였다. 하지만, 커맨딩을 이용하면 다음의 UI객체들로 부터 뷰모델에 직접 메소드 호출을 하여 데이터를 바인딩할 수 있다.</p>
<ul>
<li>Button</li>
<li>MenuItem</li>
<li>ToolbarItem</li>
<li>TextCell</li>
<li>ImageCell</li>
<li>ListView</li>
<li>TapGestureRecognizer</li>
</ul>
<p>커맨딩을 지원하기 위해서, 주요 클래스들에 두개의 퍼블릭 속성이 정의되어있다.</p>
<ul>
<li>ICommand (System.Window.Input.ICommand)</li>
<li>CommandParameter (object)</li>
</ul>
<h2 id="커맨드-구현"><a href="#커맨드-구현" class="headerlink" title="커맨드 구현"></a>커맨드 구현</h2><p>커맨딩을 구현하기 위해서, 뷰모델은 하나 이상의 ICommand를 정의하여야 한다. ICommand 인터페이스는 두개의 메소드와 하나의 이벤트로 구성되어 있다.<br><figure class="highlight c"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> interface ICommand</div><div class="line">&#123;</div><div class="line">   <span class="function"><span class="keyword">void</span> <span class="title">Execute</span><span class="params">(object arg)</span></span>;</div><div class="line">   <span class="function"><span class="keyword">bool</span> <span class="title">CanExecute</span><span class="params">(object arg)</span></span>;</div><div class="line">   event EventHandler CanExecuteChanged;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>Xamarin.Forms에서 제공되는 Command와 Command&lt;T&gt;는 ICommand 인터페이스의 구현체이다. “T”는 Execute와 CanExecute의 인자 타입이다. 추가로, 이 클래스들은 ChangeCanExecute 메소드를 포함하고 있다. 이 메소드는 커멘드 객체로 부터 CanExecuteChanged 이벤트를 발생시킨다.<br>뷰모델 내부의, ICommand타입의 커맨드 객체는 Command 또는 Command<t> 타입의 생성자와 Action 콜백 객체를 필요로 한다. 이 Action은 Button이 ICommand.Execute 메소드를 호출할때 불리워진다. CanExecute 메소드는 선택적인 생성자 인자로서, bool값을 리턴하는 함수 형태를 취한다.<br>다음은, 제곱근을 계산하는 <a href="https://github.com/davidbritch/xamarin-forms/tree/master/Commanding" target="_blank" rel="external">예제</a>의 뷰모델 코드 일부이다.<br><figure class="highlight c"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DemoViewModel</span> :</span> INotifyPropertyChanged</div><div class="line">&#123;</div><div class="line">	<span class="keyword">public</span> <span class="keyword">int</span> Number &#123; get; <span class="built_in">set</span>; &#125;</div><div class="line">	<span class="keyword">public</span> <span class="keyword">double</span> SquareRootResult &#123; get; <span class="keyword">private</span> <span class="built_in">set</span>; &#125;</div><div class="line">	<span class="keyword">public</span> ICommand SquareRootCommand &#123; get; <span class="keyword">private</span> <span class="built_in">set</span>; &#125;</div><div class="line">    ...</div><div class="line"></div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="title">DemoViewModel</span> <span class="params">()</span></span></div><div class="line">	&#123;</div><div class="line">		Number = <span class="number">25</span>;</div><div class="line">		SquareRootCommand = <span class="keyword">new</span> Command (CalculateSquareRoot);</div><div class="line">        ...</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	<span class="function"><span class="keyword">void</span> <span class="title">CalculateSquareRoot</span> <span class="params">()</span></span></div><div class="line">	&#123;</div><div class="line">		SquareRootResult = Math.Sqrt (Number);</div><div class="line">		OnPropertyChanged (<span class="string">"SquareRootResult"</span>);			</div><div class="line">	&#125;</div><div class="line">    ...</div><div class="line">&#125;</div></pre></td></tr></table></figure></t></p>
<p>SquareRootCommand는 Button의 Command속성으로서 CalculateSqureRoot라는 Action을 콜백으로 가진 바인딩 속성이다. 예제 XAML을 통해 이 뷰모델이 이떻게 사용되는지 보자.<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">Label</span> <span class="attr">Text</span>=<span class="string">"Demo 1 - Command"</span> <span class="attr">FontAttributes</span>=<span class="string">"Bold"</span> /&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">StackLayout</span> <span class="attr">Orientation</span>=<span class="string">"Horizontal"</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">Label</span> <span class="attr">Text</span>=<span class="string">"Enter number:"</span> /&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">Entry</span> <span class="attr">Text</span>=<span class="string">"&#123;Binding Number, Mode=TwoWay&#125;"</span> <span class="attr">WidthRequest</span>=<span class="string">"50"</span> /&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">StackLayout</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">Button</span> <span class="attr">Text</span>=<span class="string">"Calculate Square Root"</span> <span class="attr">Command</span>=<span class="string">"&#123;Binding SquareRootCommand&#125;"</span> <span class="attr">HorizontalOptions</span>=<span class="string">"Center"</span> /&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">StackLayout</span> <span class="attr">Orientation</span>=<span class="string">"Horizontal"</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">Label</span> <span class="attr">Text</span>=<span class="string">"Square root ="</span> /&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">Label</span> <span class="attr">Text</span>=<span class="string">"&#123;Binding SquareRootResult&#125;"</span> /&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">StackLayout</span>&gt;</span></div></pre></td></tr></table></figure></p>
<p>입력값은 Number와 양방향으로 바인딩되고, 버튼을 클릭하면 입력값에 따라 SquareRootCommand가 실행되어 SquareRootResult가 Label에 Text속성으로 적용된다.<br><img src="https://blog.xamarin.com/wp-content/uploads/2016/01/commanding-demo1.png" alt="실행결과"></p>
<h2 id="커맨드에-파라미터-전달하기"><a href="#커맨드에-파라미터-전달하기" class="headerlink" title="커맨드에 파라미터 전달하기"></a>커맨드에 파라미터 전달하기</h2><p>Command<t> 클래스에 인자의 타입을 지정해 ICommand.Execute에 인자를 전달할 수 있다. 아래 코드는 제곱근을 계산할 입력값을 커맨드 인자로 전달하는 이제이다.<br><figure class="highlight c"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DemoViewModel</span> :</span> INotifyPropertyChanged</div><div class="line">&#123;</div><div class="line">    <span class="keyword">public</span> <span class="keyword">double</span> SquareRootWithParameterResult &#123; get; <span class="keyword">private</span> <span class="built_in">set</span>; &#125;</div><div class="line">    <span class="keyword">public</span> ICommand SquareRootWithParameterCommand &#123; get; <span class="keyword">private</span> <span class="built_in">set</span>; &#125;</div><div class="line">    ...</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="title">DemoViewModel</span> <span class="params">()</span></span></div><div class="line">    &#123;</div><div class="line">        SquareRootWithParameterCommand = <span class="keyword">new</span> Command&lt;<span class="built_in">string</span>&gt; (CalculateSquareRoot);</div><div class="line">        ...</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">CalculateSquareRoot</span> <span class="params">(<span class="built_in">string</span> value)</span></span></div><div class="line">    &#123;</div><div class="line">        <span class="keyword">double</span> num = Convert.ToDouble (value);</div><div class="line">        SquareRootWithParameterResult = Math.Sqrt (num);</div><div class="line">        OnPropertyChanged (<span class="string">"SquareRootWithParameterResult"</span>);            </div><div class="line">    &#125;</div><div class="line">    ...</div><div class="line">&#125;</div></pre></td></tr></table></figure></t></p>
<p>Button의 ICommand 속성에 SquareRootWithParameterCommand가 바운드 되어있다. 이 속성은 Command<string> 타입으로 CalcualteSqureRoot 메소드에 string value 를 인자로 전달할 수 있다. 다음 코드는 이것을 사용한 XAML 소스 이다.<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">Label</span> <span class="attr">Text</span>=<span class="string">"Demo 2 - Command with Parameter"</span> <span class="attr">FontAttributes</span>=<span class="string">"Bold"</span> /&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">StackLayout</span> <span class="attr">Orientation</span>=<span class="string">"Horizontal"</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">Label</span> <span class="attr">Text</span>=<span class="string">"Enter number:"</span> /&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">Entry</span> <span class="attr">x:Name</span>=<span class="string">"entry"</span> <span class="attr">Text</span>=<span class="string">"100"</span> <span class="attr">WidthRequest</span>=<span class="string">"50"</span> /&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">StackLayout</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">Button</span> <span class="attr">Text</span>=<span class="string">"Calculate Square Root"</span></span></div><div class="line">        <span class="attr">Command</span>=<span class="string">"&#123;Binding SquareRootWithParameterCommand&#125;"</span></div><div class="line">        <span class="attr">CommandParameter</span>=<span class="string">"&#123;Binding Source=&#123;x:Reference entry&#125;, Path=Text&#125;"</span> <span class="attr">HorizontalOptions</span>=<span class="string">"Center"</span> /&gt;</div><div class="line"><span class="tag">&lt;<span class="name">StackLayout</span> <span class="attr">Orientation</span>=<span class="string">"Horizontal"</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">Label</span> <span class="attr">Text</span>=<span class="string">"Square root ="</span> /&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">Label</span> <span class="attr">Text</span>=<span class="string">"&#123;Binding SquareRootWithParameterResult&#125;"</span> /&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">StackLayout</span>&gt;</span></div></pre></td></tr></table></figure></string></p>
<p>이전의 소스와 차이점은 Button의 CommandParameter이다. 인자로, entry의 Text속성이 인자의 값으로 바인딩 되었음을 볼 수 있다.</p>
<h2 id="비동기-메소드-호출"><a href="#비동기-메소드-호출" class="headerlink" title="비동기 메소드 호출"></a>비동기 메소드 호출</h2><p>커맨드는 Action콜백에 async와 await 키워드를 사용해 비동기 메소드 호출도 지원한다. 콜백은 Task를 리턴하므로 반드시 기다려야 한다는것을 의미한다.<br><figure class="highlight c"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DemoViewModel</span> :</span> INotifyPropertyChanged</div><div class="line">&#123;</div><div class="line">    ...</div><div class="line">    <span class="keyword">bool</span> canDownload = <span class="literal">true</span>;</div><div class="line">    <span class="built_in">string</span> simulatedDownloadResult;</div><div class="line"></div><div class="line">    <span class="keyword">public</span> <span class="built_in">string</span> SimulatedDownloadResult &#123;</div><div class="line">        get &#123; <span class="keyword">return</span> simulatedDownloadResult; &#125;</div><div class="line">        <span class="keyword">private</span> <span class="built_in">set</span> &#123;</div><div class="line">            <span class="keyword">if</span> (simulatedDownloadResult != value) &#123;</div><div class="line">                simulatedDownloadResult = value;</div><div class="line">                OnPropertyChanged (<span class="string">"SimulatedDownloadResult"</span>);</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="keyword">public</span> ICommand SimulateDownloadCommand &#123; get; <span class="keyword">private</span> <span class="built_in">set</span>; &#125;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="title">DemoViewModel</span> <span class="params">()</span></span></div><div class="line">    &#123;</div><div class="line">        ...</div><div class="line">        SimulateDownloadCommand =</div><div class="line">            <span class="keyword">new</span> Command (async () =&gt; await SimulateDownloadAsync (), () =&gt; canDownload);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="function">async Task <span class="title">SimulateDownloadAsync</span> <span class="params">()</span></span></div><div class="line">    &#123;</div><div class="line">        CanInitiateNewDownload (<span class="literal">false</span>);</div><div class="line">        SimulatedDownloadResult = <span class="built_in">string</span>.Empty;</div><div class="line">        await Task.Run (() =&gt; SimulateDownload ());</div><div class="line">        SimulatedDownloadResult = <span class="string">"Simulated download complete"</span>;</div><div class="line">        CanInitiateNewDownload (<span class="literal">true</span>);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">CanInitiateNewDownload</span> <span class="params">(<span class="keyword">bool</span> value)</span></span></div><div class="line">    &#123;</div><div class="line">        canDownload = value;</div><div class="line">        ((Command)SimulateDownloadCommand).ChangeCanExecute ();</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">SimulateDownload</span> <span class="params">()</span></span></div><div class="line">    &#123;</div><div class="line">        <span class="comment">// Simulate a 5 second pause</span></div><div class="line">        var endTime = DateTime.Now.AddSeconds (<span class="number">5</span>);</div><div class="line">        <span class="keyword">while</span> (<span class="literal">true</span>) &#123;</div><div class="line">            <span class="keyword">if</span> (DateTime.Now &gt;= endTime) &#123;</div><div class="line">                <span class="keyword">break</span>;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    ...</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>SimulateDownloadCommand는 버튼의 Command속성에 바운드 되었다. XAML코드는 아래와 같이 선언되어 있다.<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">Label</span> <span class="attr">Text</span>=<span class="string">"Demo 3 - Async Command with CanExecute"</span> <span class="attr">FontAttributes</span>=<span class="string">"Bold"</span> /&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">Button</span> <span class="attr">Text</span>=<span class="string">"Simulate 5 Second Download"</span> <span class="attr">HorizontalOptions</span>=<span class="string">"Center"</span></span></div><div class="line">        <span class="attr">Command</span>=<span class="string">"&#123;Binding SimulateDownloadCommand&#125;"</span> /&gt;</div><div class="line"><span class="tag">&lt;<span class="name">StackLayout</span> <span class="attr">Orientation</span>=<span class="string">"Horizontal"</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">Label</span> <span class="attr">Text</span>=<span class="string">"Result: "</span> /&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">Label</span> <span class="attr">Text</span>=<span class="string">"&#123;Binding SimulatedDownloadResult&#125;"</span> /&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">StackLayout</span>&gt;</span></div></pre></td></tr></table></figure></p>
<p>버튼이 클릭되면 SimualteDownloadAsync 메소드가 실행되고 5초동안 버튼은 비활성화 되었다가 다시 활성화가 된다. 이것은 ICommand.CanExecute 메소드가 SimulateDownloadCommand 생성자의 두번째 인자로 설정되었기 때문이다. 버튼은 CanExecute를 먼저 체크한다. 만일, false라면 버튼은 비활성화되고 Execute는 호출되지 않는다. 또한, 버튼은 ICommand.CanExecuteChanged 이벤트를 처리한다. 만일, 뷰모델에서 Command.CanExecuteChange 메소드가 호출되어 CanExecuteChanged 이벤트가 발생한다면 버튼은 CanExecute 메소드를 다시 체크하여 버튼의 활성화 및 Execute 메소드의 실행가능 여부를 재평가하게 된다.<br><img src="https://blog.xamarin.com/wp-content/uploads/2016/01/commanding-demo3.png" alt="비동기 커맨드 예제"><br>이 예제에서 다운로딩이 별도의 쓰레드에서 진행되는 도중에도 UI객체와 교류가 가능함에 주목하도록 하자.</p>
<h2 id="정리"><a href="#정리" class="headerlink" title="정리"></a>정리</h2><p>커맨딩 기능을 이용한 데이터 바인딩은 뷰 모델 구현이 좀 복잡해 보일 수 있으나,컴포넌트의 재활용 측면에서 MVVM에 매우 적합한 코딩패턴이다. 또한, 실제 코딩시 비동기 호출이 많이 사용되는데 이 부분 또한 깔끔하게 처리할 수 있을 뿐만 아니라 데이터 모델과 바인딩 처리가 한곳에서 이루어 짐으로써 코드의 유지 관리 측면에서도 유리하다.</p>
<p>원본출처 : <a href="https://blog.xamarin.com/simplifying-events-with-commanding/" target="_blank" rel="external">https://blog.xamarin.com/simplifying-events-with-commanding/</a></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="//schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/10/27/advanced-data-binding/" itemprop="url">
                  Xamarin.Forms 데이터 바인딩 2/3
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">작성일</span>
            <time itemprop="dateCreated" datetime="2016-10-27T23:05:27+09:00" content="2016-10-27">
              2016-10-27
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/Xamarin/" itemprop="url" rel="index">
                    <span itemprop="name">Xamarin</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/10/27/advanced-data-binding/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2016/10/27/advanced-data-binding/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="데이터-바인딩-팁"><a href="#데이터-바인딩-팁" class="headerlink" title="데이터 바인딩 팁"></a>데이터 바인딩 팁</h2><p>이전 글에서, 데이터 바인딩을 실제 프로젝트에서 어떻게 사용하는지 살펴 보았다. 이번 글에서는 좀 더 발전된 시나리오에 대해 다루어 보겠다.</p>
<h2 id="컨트롤간의-바인딩"><a href="#컨트롤간의-바인딩" class="headerlink" title="컨트롤간의 바인딩"></a>컨트롤간의 바인딩</h2><p>데이터 바인딩은 UI와 데이터 모델간의 동기화가 일반적이지만, 동일 페이지의 두 속성간에도 연결될 수 있다. 이것은, 타깃객체의 BindingContext를 x:Reference마크업을 이용해 설정함으로서 간단히 이루어 진다. 다음 코드는, <a href="https://github.com/davidbritch/xamarin-forms/tree/master/AdvancedDataBinding" target="_blank" rel="external">예제 어플리케이션</a>의 XAML코드 이다.<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">ContentPage</span> <span class="attr">xmlns</span>=<span class="string">"http://xamarin.com/schemas/2014/forms"</span> <span class="attr">xmlns:x</span>=<span class="string">"http://schemas.microsoft.com/winfx/2009/xaml"</span> <span class="attr">x:Class</span>=<span class="string">"AdvancedDataBinding.RotationPage"</span> <span class="attr">Title</span>=<span class="string">"Rotation"</span> <span class="attr">Icon</span>=<span class="string">"xaml.png"</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">StackLayout</span> <span class="attr">Padding</span>=<span class="string">"0,20,0,0"</span>&gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">Label</span> <span class="attr">Text</span>=<span class="string">"Advanced Data Binding Demo"</span> <span class="attr">FontAttributes</span>=<span class="string">"Bold"</span> <span class="attr">HorizontalOptions</span>=<span class="string">"Center"</span> /&gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">Slider</span> <span class="attr">x:Name</span>=<span class="string">"slider"</span> <span class="attr">Maximum</span>=<span class="string">"360"</span> /&gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">Image</span> <span class="attr">Source</span>=<span class="string">"waterfront.jpg"</span> <span class="attr">BindingContext</span>=<span class="string">"&#123;x:Reference slider&#125;"</span></span></div><div class="line">               <span class="attr">Rotation</span>=<span class="string">"&#123;Binding Value&#125;"</span> <span class="attr">VerticalOptions</span>=<span class="string">"CenterAndExpand"</span> /&gt;</div><div class="line">		<span class="tag">&lt;<span class="name">Label</span> <span class="attr">BindingContext</span>=<span class="string">"&#123;x:Reference slider&#125;"</span> <span class="attr">HorizontalOptions</span>=<span class="string">"Center"</span></span></div><div class="line">               <span class="attr">Text</span>=<span class="string">"&#123;Binding Value, StringFormat='Rotation angle: &#123;0:F0&#125; degrees'&#125;"</span> /&gt;</div><div class="line">	<span class="tag">&lt;/<span class="name">StackLayout</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">ContentPage</span>&gt;</span></div></pre></td></tr></table></figure></p>
<p>Slider 컴포넌트의 이름을 “slider”로 설정하였다. 그리고, 그다음에 Image, Label 컴포넌트에 각각 BindnigContext가 “x:Reference”마크업을 이용해 “slider”로 설정되었다. 이후, Image의 Rotation속성과 Label의 Text속성에 Slider의 Value값이 사용된 것을 볼 수 있다.<br><img src="https://blog.xamarin.com/wp-content/uploads/2016/01/rotation.png" alt="데모화면"><br>(Label의 Text속성에 StringFormat사용시 쌍따옴표를 사용하지 않고 홑따옴표를 사용하여 중괄호 바깥의 쌍따움표와 중첩되지 않도록 처리한 부분에 주의하자.)</p>
<h2 id="변환기"><a href="#변환기" class="headerlink" title="변환기"></a>변환기</h2><p>앞서 예제에서 Label에 Text속성에서 StringFormat을 사용하여 Value를 포매팅한것을 보았다. 이것은, 말그대로 형식화(Formatting)한 것이지 값에 대한 변환이라고 보긴 어렵다. 즉, 타입의 변환은 별도의 변환기를 거쳐야 한다는 것이다. 이것은 IValueConverter 인터페이스를 구현하는 클래스로 가능하다. 이 인터페이스는 Convert와 ConvertBack 메소드의 구현을 필요로 한다.<br>다음 코드는 <a href="https://github.com/davidbritch/xamarin-forms/tree/master/AdvancedDataBinding" target="_blank" rel="external">예제 어플리케이션</a>에서 사용된, IntToBooleanConverter 코드 이다.<br><figure class="highlight c"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">IntToBooleanConverter</span> :</span> IValueConverter</div><div class="line">&#123;</div><div class="line">	<span class="function"><span class="keyword">public</span> object <span class="title">Convert</span> <span class="params">(object value, Type targetType, object parameter, CultureInfo culture)</span></span></div><div class="line">	&#123;</div><div class="line">		<span class="keyword">int</span> minimumLength = System.Convert.ToInt32 (parameter);</div><div class="line">		<span class="keyword">return</span> (<span class="keyword">int</span>)value &gt;= minimumLength;</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	<span class="function"><span class="keyword">public</span> object <span class="title">ConvertBack</span> <span class="params">(object value, Type targetType, object parameter, CultureInfo culture)</span></span></div><div class="line">	&#123;</div><div class="line">		<span class="comment">// 타깃에서 소스로의 전달이 없으므로 구현하지 않음.</span></div><div class="line">		<span class="keyword">throw</span> <span class="keyword">new</span> NotImplementedException ();</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>Convert 메소드는 값이 소스객체에서 타깃객체로 전달될때 호출된다. ConvertBack은 반대로 타깃에서 소스객체로 값이 전달될 때 호출된다. TwoWay 또는 OneWayToSource 모드 바인딩시에 해당된다. 두 메소드 모두 소용 목적은 동일하므로 사용된 인자들에 대해 알아보자.</p>
<ul>
<li>object value : 소스객체의 값</li>
<li>Type targetType : 타깃속성의 타입. Convert 또는 ConvertBack 메소드는 이 타입의 결과값을 리턴한다.</li>
<li>object parameter : 선택값으로 XAML의 Binding 마크업에서 파라미터를 전달하고자 할때 사용된다. 이 예제에서는, value와 비교하기 위한 최소값의 용도로 사용되었다.</li>
<li>CultureInfo culture : 지역화를 위한 포매팅이 필요할 경우 사용하기 위한 지역정보이다.</li>
</ul>
<p>이제, XAML에서 변환기를 ResourceDictionary에 추가하고 StaticResource 마크업을 이용해 사용하면 된다. 변환기는 상태를 관리할 필요가 없으므로 여러곳에서 정적으로 사용될 수 있다.</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">ContentPage</span> <span class="attr">xmlns</span>=<span class="string">"http://xamarin.com/schemas/2014/forms"</span> <span class="attr">xmlns:x</span>=<span class="string">"http://schemas.microsoft.com/winfx/2009/xaml"</span> <span class="attr">xmlns:local</span>=<span class="string">"clr-namespace:AdvancedDataBinding;assembly=AdvancedDataBinding"</span> <span class="attr">x:Class</span>=<span class="string">"AdvancedDataBinding.ConverterPage"</span> <span class="attr">Title</span>=<span class="string">"Converter"</span> <span class="attr">Icon</span>=<span class="string">"xaml.png"</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">ContentPage.Resources</span>&gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">ResourceDictionary</span>&gt;</span></div><div class="line">			<span class="tag">&lt;<span class="name">local:IntToBooleanConverter</span> <span class="attr">x:Key</span>=<span class="string">"intToBoolConverter"</span> /&gt;</span></div><div class="line">			<span class="tag">&lt;<span class="name">local:IntToColorConverter</span> <span class="attr">x:Key</span>=<span class="string">"intToColorConverter"</span> /&gt;</span></div><div class="line">		<span class="tag">&lt;/<span class="name">ResourceDictionary</span>&gt;</span></div><div class="line">	<span class="tag">&lt;/<span class="name">ContentPage.Resources</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">StackLayout</span> <span class="attr">Padding</span>=<span class="string">"0,20,0,0"</span>&gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">Label</span> <span class="attr">Text</span>=<span class="string">"Advanced Data Binding Demo"</span> <span class="attr">FontAttributes</span>=<span class="string">"Bold"</span> <span class="attr">HorizontalOptions</span>=<span class="string">"Center"</span> /&gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">Label</span> <span class="attr">Text</span>=<span class="string">"Enter your response (minimum 10 characters):"</span> /&gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">Editor</span> <span class="attr">x:Name</span>=<span class="string">"editor"</span> <span class="attr">HeightRequest</span>=<span class="string">"100"</span> /&gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">StackLayout</span> <span class="attr">Orientation</span>=<span class="string">"Horizontal"</span>&gt;</span></div><div class="line">			<span class="tag">&lt;<span class="name">Label</span> <span class="attr">Text</span>=<span class="string">"Number of characters:"</span> /&gt;</span></div><div class="line">			<span class="tag">&lt;<span class="name">Label</span> <span class="attr">Text</span>=<span class="string">"&#123;Binding Source=&#123;x:Reference editor&#125;, Path=Text.Length&#125;"</span></span></div><div class="line">                   <span class="attr">TextColor</span>=<span class="string">"&#123;Binding Source=&#123;x:Reference editor&#125;, Path=Text.Length,</span></div><div class="line">                               Converter=&#123;StaticResource intToColorConverter&#125;, ConverterParameter=10&#125;" /&gt;</div><div class="line">		<span class="tag">&lt;/<span class="name">StackLayout</span>&gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">Button</span> <span class="attr">Text</span>=<span class="string">"Send"</span> <span class="attr">HorizontalOptions</span>=<span class="string">"Center"</span></span></div><div class="line">                <span class="attr">IsEnabled</span>=<span class="string">"&#123;Binding Source=&#123;x:Reference editor&#125;, Path=Text.Length,</span></div><div class="line">                            Converter=&#123;StaticResource intToBoolConverter&#125;, ConverterParameter=10&#125;" /&gt;</div><div class="line">	<span class="tag">&lt;/<span class="name">StackLayout</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">ContentPage</span>&gt;</span></div></pre></td></tr></table></figure>
<p>이 예제에서, 변환기는 Button의 IsEnabled 속성을 활성 또는 비활성 하는 용도로 사용되었다. 즉, 에디터의 텍스트값의 길이가 최소값 10보다 클 켱우에만 버튼이 활성화 되도록 한것이다.<br><img src="https://blog.xamarin.com/wp-content/uploads/2016/01/converter-pre.png" alt="데모1"><br><img src="https://blog.xamarin.com/wp-content/uploads/2016/01/converter-post.png" alt="데모2"></p>
<h2 id="정리"><a href="#정리" class="headerlink" title="정리"></a>정리</h2><p>데이터 바인딩은 숨겨진 모델객체와 UI 사이 뿐만 아니라, 화면상의 컨트롤간에도 동일한 방식으로 바인딩이 가능하다. 이것을 가능하게 하는것이 “x:Reference” 마크업을 이용해 타깃객체에 BindingContext를 설정하는 것이다.<br>바인딩은 어떤 암묵적인 데이터 변환도 하지 않는다. 데이터 변환기를 통해서 바인딩 과정에 자동으로 변환이 이루어 질 수 있으며, IValueConverter 인터페이스를 구현하는 클래스를 통해 가능하다.</p>
<p>관련링크 :</p>
<ul>
<li><a href="https://developer.xamarin.com/guides/xamarin-forms/user-interface/xaml-basics/xaml_markup_extensions/" target="_blank" rel="external">XML Markup Extentions</a></li>
<li><a href="http://developer.xamarin.com/guides/xamarin-forms/user-interface/xaml-basics/data_binding_basics/" target="_blank" rel="external">Data Binding Basics</a></li>
<li><a href="http://developer.xamarin.com/guides/xamarin-forms/user-interface/xaml-basics/data_bindings_to_mvvm/" target="_blank" rel="external">From Data Bindings to MVVM</a></li>
</ul>
<p>원본출처 : <a href="https://blog.xamarin.com/advanced-data-binding-for-ios-android-and-windows/" target="_blank" rel="external">https://blog.xamarin.com/advanced-data-binding-for-ios-android-and-windows/</a></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="//schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/10/27/introduction-to-data-binding/" itemprop="url">
                  Xamarin.Forms 데이터 바인딩 1/3
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">작성일</span>
            <time itemprop="dateCreated" datetime="2016-10-27T21:23:04+09:00" content="2016-10-27">
              2016-10-27
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/Xamarin/" itemprop="url" rel="index">
                    <span itemprop="name">Xamarin</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/10/27/introduction-to-data-binding/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2016/10/27/introduction-to-data-binding/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="데이터-바인딩-소개"><a href="#데이터-바인딩-소개" class="headerlink" title="데이터 바인딩 소개"></a>데이터 바인딩 소개</h2><p>데이터 바인딩은 자동으로 유저 인터페이스와 데이터를 동기화 시켜주는 기술이다. 이것은 앱이 UI를 표현하고 데이터와 상호 작용하는것을 단순하게 해준다.</p>
<h2 id="데이터-바인딩-기초"><a href="#데이터-바인딩-기초" class="headerlink" title="데이터 바인딩 기초"></a>데이터 바인딩 기초</h2><p>데이터 바인딩은 두개의 객체를 연결한다. 하나는 소스, 다른 한쪽은 타깃이 된다. 소스객체는 데이터를 제공하고 타깃객체는 소비(표현)한다. 예를들어 <a href="https://developer.xamarin.com/api/type/Xamarin.Forms.Label/" target="_blank" rel="external">Label</a>의 Text속성은 소스객체의 문자열 속성과 바인드된다.<br><img src="https://blog.xamarin.com/wp-content/uploads/2016/01/data-binding@2x1.png" alt="바인딩 개념도"></p>
<p>이런한 데이터 바인딩의 가장 큰 장점은 뷰와 데이터간의 동기화에 관해 신경쓰지 않아도 된다는 것이다. 소스객체에 변화가 생기면 바인딩 프레임워크에 의해 자동으로 타깃객체에 반영되고, 그 반대도 마챦가지 이다.</p>
<p>데이터 바인딩을 하기 위해서는:</p>
<ol>
<li>타깃객체의 <a href="https://developer.xamarin.com/api/property/Xamarin.Forms.BindableObject.BindingContext/" target="_blank" rel="external">BindingContext</a> 속성이 반드시 소스객체를 가르켜야 한다.</li>
<li>XAML에서 이것은 <a href="https://developer.xamarin.com/api/type/Xamarin.Forms.Xaml.BindingExtension/" target="_blank" rel="external">Binding</a>마크업을 사용해 설정할 수 있다.</li>
</ol>
<p>다음 코드는, <a href="https://github.com/davidbritch/xamarin-forms/tree/master/DataBinding101" target="_blank" rel="external">accompanying sample</a>의 일부이다.<br>HomagePage.xaml.cs<br><figure class="highlight c"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> partial <span class="class"><span class="keyword">class</span> <span class="title">HomePage</span> :</span> ContentPage</div><div class="line">&#123;</div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="title">HomePage</span> <span class="params">()</span></span></div><div class="line">	&#123;</div><div class="line">		InitializeComponent ();</div><div class="line">		BindingContext = <span class="keyword">new</span> DetailsViewModel ();</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>코드에서 먼저 바인딩될 소스객체(DetailsViewModel)을 바인딩 하였다. 이제, XAML에서 이것을 Binding마크업을 이용하여 UI와 연결만 해주면 된다.</p>
<p>HomePage.xaml<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">ContentPage</span> <span class="attr">xmlns</span>=<span class="string">"http://xamarin.com/schemas/2014/forms"</span> <span class="attr">xmlns:x</span>=<span class="string">"http://schemas.microsoft.com/winfx/2009/xaml"</span> <span class="attr">x:Class</span>=<span class="string">"DataBinding101.HomePage"</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">StackLayout</span> <span class="attr">Padding</span>=<span class="string">"0,20,0,0"</span>&gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">Label</span> <span class="attr">Text</span>=<span class="string">"Data Binding 101 Demo"</span> <span class="attr">FontAttributes</span>=<span class="string">"Bold"</span> <span class="attr">HorizontalOptions</span>=<span class="string">"Center"</span> /&gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">Label</span> <span class="attr">Text</span>=<span class="string">"Forename:"</span> /&gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">Entry</span> <span class="attr">Text</span>=<span class="string">"&#123;Binding Forename, Mode=TwoWay&#125;"</span> /&gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">Label</span> <span class="attr">Text</span>=<span class="string">"Surname:"</span> /&gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">Entry</span> <span class="attr">Text</span>=<span class="string">"&#123;Binding Surname, Mode=TwoWay&#125;"</span> /&gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">StackLayout</span> <span class="attr">Padding</span>=<span class="string">"0,20,0,0"</span> <span class="attr">Orientation</span>=<span class="string">"Horizontal"</span>&gt;</span></div><div class="line">			<span class="tag">&lt;<span class="name">Label</span> <span class="attr">Text</span>=<span class="string">"Your forename is:"</span> /&gt;</span></div><div class="line">			<span class="tag">&lt;<span class="name">Label</span> <span class="attr">Text</span>=<span class="string">"&#123;Binding Forename&#125;"</span> /&gt;</span></div><div class="line">		<span class="tag">&lt;/<span class="name">StackLayout</span>&gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">StackLayout</span> <span class="attr">Orientation</span>=<span class="string">"Horizontal"</span>&gt;</span></div><div class="line">			<span class="tag">&lt;<span class="name">Label</span> <span class="attr">Text</span>=<span class="string">"Your surname is:"</span> /&gt;</span></div><div class="line">			<span class="tag">&lt;<span class="name">Label</span> <span class="attr">Text</span>=<span class="string">"&#123;Binding Surname&#125;"</span> /&gt;</span></div><div class="line">		<span class="tag">&lt;/<span class="name">StackLayout</span>&gt;</span></div><div class="line">	<span class="tag">&lt;/<span class="name">StackLayout</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">ContentPage</span>&gt;</span></div></pre></td></tr></table></figure></p>
<p>BindingContext는 특수한 속성으로 모든 페이지 클래스에 상속된다. BindingContext에 관한 추가적인 설명은 <a href="http://developer.xamarin.com/guides/xamarin-forms/user-interface/xaml-basics/data_bindings_to_mvvm/" target="_blank" rel="external">Form Data Bindings to MVVM</a>을 참고하자.</p>
<p><a href="https://developer.xamarin.com/api/type/Xamarin.Forms.Xaml.BindingExtension/" target="_blank" rel="external">Binding</a> 마크업은 <a href="https://developer.xamarin.com/api/property/Xamarin.Forms.Xaml.BindingExtension.Path/" target="_blank" rel="external">Path</a>와 <a href="https://developer.xamarin.com/api/property/Xamarin.Forms.Xaml.BindingExtension.Mode/" target="_blank" rel="external">Mode</a>속성을 가진다. Path는 바인딩 하고자 하는 원본객체의 속성명 가리키며, BInding마크업의 첫번째 요소로 사용할 경우 생략이 가능하다.<br><a href="https://developer.xamarin.com/api/property/Xamarin.Forms.Xaml.BindingExtension.Mode/" target="_blank" rel="external">Mode</a>속성은 속성값의 변화가 영향을 줄 방향에 대해 설정한다.</p>
<ul>
<li>OneWay 바인딩은 소스에서 타깃으로만 변경사항이 반영된다.</li>
<li>TwoWay 바인딩은 양방향으로 적용된다. 즉, 소스와 타깃객체가 항상 동기화 된다.</li>
<li>OnwWayToSource 바인딩은 타깃에서 소스로만 변경사항이 반영된다. 주로, 읽기전용의 바인딩 속성에 사용된다.</li>
</ul>
<p>Mode값은 생략할 경우 OneWay가 기본이다.</p>
<h2 id="속성-변경-알림"><a href="#속성-변경-알림" class="headerlink" title="속성 변경 알림"></a>속성 변경 알림</h2><p>기본적으로, 타깃객체는 데이터 바인딩이 생성된 초기에만 소스객체의 값을 전달 받는다. UI가 데이터 소스와 동기화 되려면, 소스 객체에 수정이 생겼음을 타깃객체에 알려주어야 한다. 이 메커니즘은 INotifyPropertyChanged 인터페이스에 의해 제공된다. 이 인터페이스를 구현하면 어떤 데이터 컨트롤간에든 속성값의 변화를 알려줄 수 있다. 아래 코드든, 앞서 사용된 예제에서 사용한 DetailViewModel 의 소스코드 이다.<br><figure class="highlight c"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DetailsViewModel</span> :</span> INotifyPropertyChanged</div><div class="line">&#123;</div><div class="line">	<span class="built_in">string</span> forename, surname;</div><div class="line"></div><div class="line">	<span class="keyword">public</span> <span class="built_in">string</span> Forename &#123;</div><div class="line">		get &#123;</div><div class="line">			<span class="keyword">return</span> forename;</div><div class="line">		&#125;</div><div class="line">		<span class="built_in">set</span> &#123;</div><div class="line">			<span class="keyword">if</span> (forename != value) &#123;</div><div class="line">				forename = value;</div><div class="line">				OnPropertyChanged (<span class="string">"Forename"</span>);</div><div class="line">			&#125;</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	<span class="keyword">public</span> <span class="built_in">string</span> Surname &#123;</div><div class="line">		get &#123;</div><div class="line">			<span class="keyword">return</span> surname;</div><div class="line">		&#125;</div><div class="line">		<span class="built_in">set</span> &#123;</div><div class="line">			<span class="keyword">if</span> (surname != value) &#123;</div><div class="line">				surname = value;</div><div class="line">				OnPropertyChanged (<span class="string">"Surname"</span>);</div><div class="line">			&#125;		</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	<span class="keyword">public</span> event PropertyChangedEventHandler PropertyChanged;</div><div class="line"></div><div class="line">	<span class="function"><span class="keyword">protected</span> <span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">OnPropertyChanged</span> <span class="params">(<span class="built_in">string</span> propertyName)</span></span></div><div class="line">	&#123;</div><div class="line">		var changed = PropertyChanged;</div><div class="line">		<span class="keyword">if</span> (changed != null) &#123;</div><div class="line">			PropertyChanged (<span class="keyword">this</span>, <span class="keyword">new</span> PropertyChangedEventArgs (propertyName));</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>이 클래스는 Forename과 Surname속성이 변경될때마다 PropertyChanged이벤트를 발생시킨다. 즉, 사용자 이름이 입력될 경우 두개의 Label에 이름도 바로 반영이 된다.<br><img src="https://blog.xamarin.com/wp-content/uploads/2016/01/data-binding-101-screenshots.png" alt="데모"></p>
<h2 id="정리"><a href="#정리" class="headerlink" title="정리"></a>정리</h2><p>데이터 바인딩은 Xamarin.Forms 앱이 데이터를 표현하고 다루는 기본적인 기술이다. 더 자세한 설명은  <a href="http://developer.xamarin.com/guides/xamarin-forms/user-interface/xaml-basics/data_binding_basics/" target="_blank" rel="external">Data Binging Basics</a>와 <a href="http://developer.xamarin.com/guides/xamarin-forms/user-interface/xaml-basics/data_bindings_to_mvvm/" target="_blank" rel="external">Form Data Bindngs to MVVM</a>에서 상세히 설명하고 있다.<br>다음에는, 컨트롤간의 데이터 바인딩과 데이터 변환과 같은 기술에 대해 다루어 보겠다.</p>
<p>원본출처: <a href="https://blog.xamarin.com/introduction-to-data-binding/" target="_blank" rel="external">https://blog.xamarin.com/introduction-to-data-binding/</a></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
  </section>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><span class="space">&hellip;</span><a class="page-number" href="/page/4/">4</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel  sidebar-panel-active ">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="//schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/assets/chanlee.jpeg"
               alt="chanlee" />
          <p class="site-author-name" itemprop="name">chanlee</p>
          <p class="site-description motion-element" itemprop="description">Computing and Programming issues</p>
        </div>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">31</span>
              <span class="site-state-item-name">포스트</span>
            </a>
          </div>

          
            <div class="site-state-item site-state-categories">
              <a href="/categories">
                <span class="site-state-item-count">7</span>
                <span class="site-state-item-name">카테고리</span>
              </a>
            </div>
          

          
            <div class="site-state-item site-state-tags">
              <a href="/tags">
                <span class="site-state-item-count">22</span>
                <span class="site-state-item-name">태그</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/chanlee" target="_blank" title="Github">
                  
                    <i class="fa fa-fw fa-globe"></i>
                  
                  Github
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://twitter.com/chanlee" target="_blank" title="Twitter">
                  
                    <i class="fa fa-fw fa-twitter"></i>
                  
                  Twitter
                </a>
              </span>
            
          
        </div>

        
        

        
        

      </section>

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">chanlee</span>
</div>

<div class="powered-by">
  Powered by <a class="theme-link" href="https://hexo.io">Hexo</a>
</div>

<div class="theme-info">
  Theme -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Muse
  </a>
</div>

        

        
      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  



  
  <script type="text/javascript" src="/vendors/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/vendors/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/vendors/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/vendors/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/vendors/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/vendors/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.0.2"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.0.2"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.0.2"></script>



  



  

    <script type="text/javascript">
      var disqus_shortname = 'programmingnoteblog';
      var disqus_identifier = 'index.html';
      var disqus_title = "";
      var disqus_url = '';

      function run_disqus_script(disqus_script){
        var dsq = document.createElement('script');
        dsq.type = 'text/javascript';
        dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/' + disqus_script;
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
      }

      run_disqus_script('count.js');
      
    </script>
  




  
  

  

  

  

  


</body>
</html>
